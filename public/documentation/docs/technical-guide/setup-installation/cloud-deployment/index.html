<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/technical-guide/setup-installation/cloud-deployment" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Deploying the TEA Platform | TEA Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://assuranceplatform.azurewebsites.net/documentation/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://assuranceplatform.azurewebsites.net/documentation/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://assuranceplatform.azurewebsites.net/documentation/docs/technical-guide/setup-installation/cloud-deployment"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploying the TEA Platform | TEA Documentation"><meta data-rh="true" name="description" content="Microsoft Azure"><meta data-rh="true" property="og:description" content="Microsoft Azure"><link data-rh="true" rel="icon" href="/documentation/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://assuranceplatform.azurewebsites.net/documentation/docs/technical-guide/setup-installation/cloud-deployment"><link data-rh="true" rel="alternate" href="https://assuranceplatform.azurewebsites.net/documentation/docs/technical-guide/setup-installation/cloud-deployment" hreflang="en"><link data-rh="true" rel="alternate" href="https://assuranceplatform.azurewebsites.net/documentation/docs/technical-guide/setup-installation/cloud-deployment" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Setup and Installation","item":"https://assuranceplatform.azurewebsites.net/documentation/category/setup-and-installation"},{"@type":"ListItem","position":2,"name":"Cloud Deployment","item":"https://assuranceplatform.azurewebsites.net/documentation/docs/technical-guide/setup-installation/cloud-deployment"}]}</script><link rel="alternate" type="application/rss+xml" href="/documentation/blog/rss.xml" title="TEA Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/documentation/blog/atom.xml" title="TEA Documentation Atom Feed"><link rel="stylesheet" href="/documentation/assets/css/styles.f07d20df.css">
<script src="/documentation/assets/js/runtime~main.1286528a.js" defer="defer"></script>
<script src="/documentation/assets/js/main.30842dd1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_gWIs" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><div class="navbar__logo"><img src="/documentation/img/tea-logo2.png" alt="TEA logo" class="themedComponent_p0JX themedComponent--light_PJCr"><img src="/documentation/img/tea-logo2.png" alt="TEA logo" class="themedComponent_p0JX themedComponent--dark_jcU8"></div><b class="navbar__title text--truncate">Trustworthy &amp; Ethical Assurance</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/documentation/">Documentation</a><a class="navbar__item navbar__link" href="/documentation/api">API</a><a class="navbar__item navbar__link" href="/documentation/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/alan-turing-institute/AssurancePlatform" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_JzR2"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_EPhx colorModeToggle_DtN2"><button class="clean-btn toggleButton_hme2 toggleButtonDisabled_hJnH" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_FSqk lightToggleIcon_oE9a"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_FSqk darkToggleIcon_vCma"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_FSqk systemToggleIcon_jQ7V"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_VJXn"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper__xH_"><div class="docsWrapper_oPR0"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_eOxS" type="button"></button><div class="docRoot_Vk2r"><aside class="theme-doc-sidebar-container docSidebarContainer_BRkP"><div class="sidebarViewport_O5tr"><div class="sidebar_nrEo"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_W7E9"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/"><span title="Getting Started" class="linkLabel_ka0x">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/docs/about"><span title="About the TEA Platform" class="linkLabel_ka0x">About the TEA Platform</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_EF9l menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/documentation/docs/curriculum/"><span title="TEA Curriculum" class="categoryLinkLabel_uaeU">TEA Curriculum</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_EF9l menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/documentation/docs/technical-guide/"><span title="Technical Documentation" class="categoryLinkLabel_uaeU">Technical Documentation</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/technical-guide/"><span title="Section Overview" class="linkLabel_ka0x">Section Overview</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_EF9l menu__link menu__link--sublist menu__link--active" tabindex="0" href="/documentation/category/setup-and-installation"><span title="Setup and Installation" class="categoryLinkLabel_uaeU">Setup and Installation</span></a><button aria-label="Collapse sidebar category &#x27;Setup and Installation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/technical-guide/setup-installation/local-quikstart"><span title="Local Install" class="linkLabel_ka0x">Local Install</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/technical-guide/setup-installation/docker-quikstart"><span title="Docker Install" class="linkLabel_ka0x">Docker Install</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentation/docs/technical-guide/setup-installation/cloud-deployment"><span title="Cloud Deployment" class="linkLabel_ka0x">Cloud Deployment</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_EF9l menu__link menu__link--sublist" tabindex="0" href="/documentation/category/frontend-reference"><span title="Frontend Reference" class="categoryLinkLabel_uaeU">Frontend Reference</span></a><button aria-label="Expand sidebar category &#x27;Frontend Reference&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_EF9l menu__link menu__link--sublist" tabindex="0" href="/documentation/category/cicd-pipeline"><span title="CI/CD Pipeline" class="categoryLinkLabel_uaeU">CI/CD Pipeline</span></a><button aria-label="Expand sidebar category &#x27;CI/CD Pipeline&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_EF9l menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/documentation/docs/technical-guide/backend-reference/postgres"><span title="backend-reference" class="categoryLinkLabel_uaeU">backend-reference</span></a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_EF9l menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/documentation/docs/community/"><span title="Community Resources" class="categoryLinkLabel_uaeU">Community Resources</span></a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_oG8q"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_bdxr"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_j8Up"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_UL8Z"><div class="docItemContainer_rqJI"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Q3p1" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_wmi2"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Technical Documentation</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/documentation/category/setup-and-installation"><span>Setup and Installation</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Cloud Deployment</span></li></ul></nav><div class="tocCollapsible_TXaw theme-doc-toc-mobile tocMobile_KPbY"><button type="button" class="clean-btn tocCollapsibleButton_G9Lh">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deploying the TEA Platform</h1></header>
<h2 class="anchor anchorTargetStickyNavbar_utwQ" id="microsoft-azure">Microsoft Azure<a href="#microsoft-azure" class="hash-link" aria-label="Direct link to Microsoft Azure" title="Direct link to Microsoft Azure" translate="no">​</a></h2>
<p>Deploying the Trustworthy and Ethical Assurance (TEA) Platform on Microsoft Azure utilises Docker for containerisation, Azure Web Apps for hosting, and Azure Database for PostgreSQL for database services. This guide outlines the steps for setting up the TEA Platform on Azure, ensuring a robust and scalable deployment.</p>
<h2 class="anchor anchorTargetStickyNavbar_utwQ" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h2>
<p>Before beginning the deployment process, please ensure you have the following:</p>
<ul>
<li class="">Basic understanding of cloud services, specifically Microsoft Azure, and familiarity with the Azure portal.</li>
<li class="">Docker installed and configured on your machine.</li>
<li class="">An active Microsoft Azure account as well as an active DockerHub account.</li>
<li class="">Git installed for cloning the repository.</li>
<li class="">PostgreSQL command-line tool (<code>psql</code>) for database setup.</li>
<li class="">A GitHub account for OAuth setup.</li>
</ul>
<p>Also, consider reviewing security best practices for managing secrets and passwords throughout the deployment process.</p>
<h2 class="anchor anchorTargetStickyNavbar_utwQ" id="setting-up-the-postgresql-database">Setting Up the PostgreSQL Database<a href="#setting-up-the-postgresql-database" class="hash-link" aria-label="Direct link to Setting Up the PostgreSQL Database" title="Direct link to Setting Up the PostgreSQL Database" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_utwQ" id="1-create-a-postgresql-database">1. Create a PostgreSQL Database<a href="#1-create-a-postgresql-database" class="hash-link" aria-label="Direct link to 1. Create a PostgreSQL Database" title="Direct link to 1. Create a PostgreSQL Database" translate="no">​</a></h3>
<p>Navigate to the Azure Portal, select &quot;+ Create a New Resource&quot;, choose &quot;Azure Database for PostgreSQL&quot;, and click &quot;Create&quot;. Opt for a &quot;Flexible Server&quot; setup.</p>
<h3 class="anchor anchorTargetStickyNavbar_utwQ" id="2-configuration">2. Configuration<a href="#2-configuration" class="hash-link" aria-label="Direct link to 2. Configuration" title="Direct link to 2. Configuration" translate="no">​</a></h3>
<p>After selecting your Subscription, Resource Group, and Region, specify your &quot;Server name&quot;, &quot;Admin username&quot;, and &quot;Password&quot;. Remember these details as they are crucial for subsequent steps.</p>
<h3 class="anchor anchorTargetStickyNavbar_utwQ" id="3-firewall-configuration">3. Firewall Configuration<a href="#3-firewall-configuration" class="hash-link" aria-label="Direct link to 3. Firewall Configuration" title="Direct link to 3. Firewall Configuration" translate="no">​</a></h3>
<p>To allow connections to your database, configure a firewall rule under &quot;Connection Security&quot; by adding your client IP address. Ensure &quot;Allow access to Azure services&quot; is enabled.</p>
<h3 class="anchor anchorTargetStickyNavbar_utwQ" id="4-database-initialisation">4. Database Initialisation<a href="#4-database-initialisation" class="hash-link" aria-label="Direct link to 4. Database Initialisation" title="Direct link to 4. Database Initialisation" translate="no">​</a></h3>
<p>Use psql to create your database:</p>
<div class="language-shell codeBlockContainer_k4kt theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_U7mw"><pre tabindex="0" class="prism-code language-shell codeBlock_DICD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_DCkr"><span class="token-line" style="color:#393A34"><span class="token plain">psql --host=SERVER_NAME.postgres.database.azure.com --port=5432 --username=ADMIN_USERNAME --dbname=postgres</span><br></span></code></pre></div></div>
<div class="language-sql codeBlockContainer_k4kt theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_U7mw"><pre tabindex="0" class="prism-code language-sql codeBlock_DICD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_DCkr"><span class="token-line" style="color:#393A34"><span class="token plain">postgres</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">DATABASE</span><span class="token plain"> tea</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">postgres</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> \q</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_utwQ" id="application-deployment">Application Deployment<a href="#application-deployment" class="hash-link" aria-label="Direct link to Application Deployment" title="Direct link to Application Deployment" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_utwQ" id="1-build-docker-image">1. Build Docker Image<a href="#1-build-docker-image" class="hash-link" aria-label="Direct link to 1. Build Docker Image" title="Direct link to 1. Build Docker Image" translate="no">​</a></h3>
<p>Build and push your Docker image:</p>
<div class="language-shell codeBlockContainer_k4kt theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_U7mw"><pre tabindex="0" class="prism-code language-shell codeBlock_DICD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_DCkr"><span class="token-line" style="color:#393A34"><span class="token plain">docker build -t YOUR_DOCKER_USERNAME/tea-platform:latest -f Dockerfile .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker push YOUR_DOCKER_USERNAME/tea-platform:latest</span><br></span></code></pre></div></div>
<p>Note: You will need to <a href="https://hub.docker.com/signup" target="_blank" rel="noopener noreferrer" class="">sign up for DockerHub</a> and run <code>docker login</code> before pushing images.</p>
<h3 class="anchor anchorTargetStickyNavbar_utwQ" id="2-create-azure-web-app">2. Create Azure Web App<a href="#2-create-azure-web-app" class="hash-link" aria-label="Direct link to 2. Create Azure Web App" title="Direct link to 2. Create Azure Web App" translate="no">​</a></h3>
<p>Create a new &quot;Web App&quot; in Azure Portal:</p>
<ol>
<li class="">Select &quot;Docker Container&quot; and &quot;Linux&quot; for publishing</li>
<li class="">Choose your pricing tier</li>
<li class="">Configure the container settings to pull from your DockerHub image</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_utwQ" id="3-configure-environment-variables">3. Configure Environment Variables<a href="#3-configure-environment-variables" class="hash-link" aria-label="Direct link to 3. Configure Environment Variables" title="Direct link to 3. Configure Environment Variables" translate="no">​</a></h3>
<p>In the Azure Web App settings, add the following environment variables:</p>
<div class="language-bash codeBlockContainer_k4kt theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_U7mw"><pre tabindex="0" class="prism-code language-bash codeBlock_DICD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_DCkr"><span class="token-line" style="color:#393A34"><span class="token plain"># Database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASE_URL=postgresql://ADMIN_USERNAME:PASSWORD@SERVER_NAME.postgres.database.azure.com:5432/tea?sslmode=require</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Authentication</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NEXTAUTH_SECRET=your-generated-secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NEXTAUTH_URL=https://YOUR_WEBAPP_NAME.azurewebsites.net</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># GitHub OAuth</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GITHUB_APP_CLIENT_ID=your-github-client-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GITHUB_APP_CLIENT_SECRET=your-github-client-secret</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_utwQ" id="4-run-database-migrations">4. Run Database Migrations<a href="#4-run-database-migrations" class="hash-link" aria-label="Direct link to 4. Run Database Migrations" title="Direct link to 4. Run Database Migrations" translate="no">​</a></h3>
<p>After the web app is deployed, run Prisma migrations:</p>
<div class="language-shell codeBlockContainer_k4kt theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_U7mw"><pre tabindex="0" class="prism-code language-shell codeBlock_DICD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_DCkr"><span class="token-line" style="color:#393A34"><span class="token plain"># Connect to the web app&#x27;s console or run via CI/CD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npx prisma migrate deploy </span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_utwQ" id="final-steps">Final Steps<a href="#final-steps" class="hash-link" aria-label="Direct link to Final Steps" title="Direct link to Final Steps" translate="no">​</a></h2>
<p>After configuring all settings, test the deployment by accessing your web app&#x27;s URL. You should be able to interact with the TEA Platform without issues.</p>
<h2 class="anchor anchorTargetStickyNavbar_utwQ" id="continuous-deployment">Continuous Deployment<a href="#continuous-deployment" class="hash-link" aria-label="Direct link to Continuous Deployment" title="Direct link to Continuous Deployment" translate="no">​</a></h2>
<p>For automated deployments, consider setting up GitHub Actions to:</p>
<ol>
<li class="">Build and test on push to main branch</li>
<li class="">Build and push Docker image to DockerHub</li>
<li class="">Trigger Azure Web App to pull the latest image</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_utwQ" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">​</a></h2>
<p>Deploying the TEA Platform on Azure involves setting up a secure and scalable environment. By following these steps, you can ensure your deployment is robust and ready for production use. Always remember to secure your secret keys and sensitive information, especially when deploying in a public cloud environment.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_GV_Q"></div><div class="col lastUpdated_MsbN"><span class="theme-last-updated">Last updated<!-- --> by <b>Christopher Burr</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/documentation/docs/technical-guide/setup-installation/docker-quikstart"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Docker Install</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/documentation/category/frontend-reference"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Frontend Reference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_qSTb thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#microsoft-azure" class="table-of-contents__link toc-highlight">Microsoft Azure</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#setting-up-the-postgresql-database" class="table-of-contents__link toc-highlight">Setting Up the PostgreSQL Database</a><ul><li><a href="#1-create-a-postgresql-database" class="table-of-contents__link toc-highlight">1. Create a PostgreSQL Database</a></li><li><a href="#2-configuration" class="table-of-contents__link toc-highlight">2. Configuration</a></li><li><a href="#3-firewall-configuration" class="table-of-contents__link toc-highlight">3. Firewall Configuration</a></li><li><a href="#4-database-initialisation" class="table-of-contents__link toc-highlight">4. Database Initialisation</a></li></ul></li><li><a href="#application-deployment" class="table-of-contents__link toc-highlight">Application Deployment</a><ul><li><a href="#1-build-docker-image" class="table-of-contents__link toc-highlight">1. Build Docker Image</a></li><li><a href="#2-create-azure-web-app" class="table-of-contents__link toc-highlight">2. Create Azure Web App</a></li><li><a href="#3-configure-environment-variables" class="table-of-contents__link toc-highlight">3. Configure Environment Variables</a></li><li><a href="#4-run-database-migrations" class="table-of-contents__link toc-highlight">4. Run Database Migrations</a></li></ul></li><li><a href="#final-steps" class="table-of-contents__link toc-highlight">Final Steps</a></li><li><a href="#continuous-deployment" class="table-of-contents__link toc-highlight">Continuous Deployment</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Trustworthy and Ethical Assurance Team.</div></div></div></footer></div>
</body>
</html>
