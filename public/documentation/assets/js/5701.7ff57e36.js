/*! For license information please see 5701.7ff57e36.js.LICENSE.txt */
"use strict";(self.webpackChunktea_docs=self.webpackChunktea_docs||[]).push([[5701],{1139:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(758);const i=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const r=(0,o.forwardRef)((({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...d},u)=>(0,o.createElement)("svg",{ref:u,...s,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:i("lucide",a),...d},[...c.map((([e,t])=>(0,o.createElement)(e,t))),...Array.isArray(l)?l:[l]]))),a=(e,t)=>{const n=(0,o.forwardRef)((({className:n,...s},a)=>{return(0,o.createElement)(r,{ref:a,iconNode:t,className:i(`lucide-${l=e,l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...s});var l}));return n.displayName=`${e}`,n}},6754:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},9753:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},480:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},3345:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2872:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7421:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5192:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4891:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},4860:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4139:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},3842:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},7386:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},4117:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},2869:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4586:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7629:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])},2398:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},3356:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},1755:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},4275:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},998:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},2743:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},772:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},69:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},5047:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},9573:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1307:(e,t,n)=>{n.d(t,{A:()=>o});const o=(0,n(1139).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},7443:()=>{},3278:(e,t,n)=>{var o=n(758);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=o.useState,r=o.useEffect,a=o.useLayoutEffect,l=o.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(o){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=s({inst:{value:n,getSnapshot:t}}),i=o[0].inst,d=o[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&d({inst:i})}),[e,n,t]),r((function(){return c(i)&&d({inst:i}),e((function(){c(i)&&d({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:d},4049:(e,t,n)=>{var o=n(758),i=n(809);var s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=i.useSyncExternalStore,a=o.useRef,l=o.useEffect,c=o.useMemo,d=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,i){var u=a(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=c((function(){function e(e){if(!l){if(l=!0,r=e,e=o(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return a=t}return a=e}if(t=a,s(r,e))return t;var n=o(e);return void 0!==i&&i(t,n)?(r=e,t):(r=e,a=n)}var r,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,o,i]);var m=r(e,u[0],u[1]);return l((function(){h.hasValue=!0,h.value=m}),[m]),d(m),m}},809:(e,t,n)=>{e.exports=n(3278)},6007:(e,t,n)=>{e.exports=n(4049)},7650:(e,t,n)=>{n.d(t,{V:()=>p});var o,i=n(758),s=n(6516),r=n(3545),a=n(919);function l({color:e,dimensions:t,lineWidth:n}){return i.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function c({color:e,radius:t}){return i.createElement("circle",{cx:t,cy:t,r:t,fill:e})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(o||(o={}));const d={[o.Dots]:"#91919a",[o.Lines]:"#eee",[o.Cross]:"#e2e2e2"},u={[o.Dots]:1,[o.Lines]:1,[o.Cross]:6},h=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function m({id:e,variant:t=o.Dots,gap:n=20,size:m,lineWidth:p=1,offset:f=2,color:g,style:y,className:v}){const x=(0,i.useRef)(null),{transform:S,patternId:b}=(0,r.Pj)(h,a.x),w=g||d[t],E=m||u[t],C=t===o.Dots,M=t===o.Cross,P=Array.isArray(n)?n:[n,n],A=[P[0]*S[2]||1,P[1]*S[2]||1],k=E*S[2],T=M?[k,k]:A,N=C?[k/f,k/f]:[T[0]/f,T[1]/f];return i.createElement("svg",{className:(0,s.A)(["react-flow__background",v]),style:{...y,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:x,"data-testid":"rf__background"},i.createElement("pattern",{id:b+e,x:S[0]%A[0],y:S[1]%A[1],width:A[0],height:A[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},C?i.createElement(c,{color:w,radius:k/f}):i.createElement(l,{dimensions:T,color:w,lineWidth:p})),i.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${b+e})`}))}m.displayName="Background";var p=(0,i.memo)(m)},1767:(e,t,n)=>{n.d(t,{H:()=>f});var o=n(758),i=n(6516),s=n(919),r=n(3545);function a(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},o.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function l(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},o.createElement("path",{d:"M0 0h32v4.2H0z"}))}function c(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},o.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function d(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function u(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const h=({children:e,className:t,...n})=>o.createElement("button",{type:"button",className:(0,i.A)(["react-flow__controls-button",t]),...n},e);h.displayName="ControlButton";const m=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),p=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:p=!0,fitViewOptions:f,onZoomIn:g,onZoomOut:y,onFitView:v,onInteractiveChange:x,className:S,children:b,position:w="bottom-left"})=>{const E=(0,r.PI)(),[C,M]=(0,o.useState)(!1),{isInteractive:P,minZoomReached:A,maxZoomReached:k}=(0,r.Pj)(m,s.x),{zoomIn:T,zoomOut:N,fitView:D}=(0,r.VH)();if((0,o.useEffect)((()=>{M(!0)}),[]),!C)return null;return o.createElement(r.Zk,{className:(0,i.A)(["react-flow__controls",S]),position:w,style:e,"data-testid":"rf__controls"},t&&o.createElement(o.Fragment,null,o.createElement(h,{onClick:()=>{T(),g?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:k},o.createElement(a,null)),o.createElement(h,{onClick:()=>{N(),y?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:A},o.createElement(l,null))),n&&o.createElement(h,{className:"react-flow__controls-fitview",onClick:()=>{D(f),v?.()},title:"fit view","aria-label":"fit view"},o.createElement(c,null)),p&&o.createElement(h,{className:"react-flow__controls-interactive",onClick:()=>{E.setState({nodesDraggable:!P,nodesConnectable:!P,elementsSelectable:!P}),x?.(!P)},title:"toggle interactivity","aria-label":"toggle interactivity"},P?o.createElement(u,null):o.createElement(d,null)),b)};p.displayName="Controls";var f=(0,o.memo)(p)},3545:(e,t,n)=>{n.d(t,{h7:()=>it,TG:()=>xe,Zk:()=>z,yX:()=>Se,Gc:()=>yo,Mi:()=>ee,Cz:()=>ze,Jo:()=>_e,fM:()=>So,ck:()=>xo,VH:()=>Ht,Pj:()=>$,PI:()=>F});var o=n(758),i=n(6516),s=n(6007);const r=e=>{let t;const n=new Set,o=(e,o)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=o?o:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,s={setState:o,getState:i,getInitialState:()=>r,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},r=t=e(o,i,s);return s},a=e=>e?r(e):r;const{useDebugValue:l}=o,{useSyncExternalStoreWithSelector:c}=s,d=e=>e;function u(e,t=d,n){const o=c(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return l(o),o}const h=(e,t)=>{const n=a(e),o=(e,o=t)=>u(n,e,o);return Object.assign(o,n),o};var m=n(919),p=n(9707),f=n(1670),g=n(731),y=n(889),v=n(8953),x=n(1787);const S=e=>()=>e;function b(e,{sourceEvent:t,subject:n,target:o,identifier:i,active:s,x:r,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}function w(e){return!e.ctrlKey&&!e.button}function E(){return this.parentNode}function C(e,t){return null==t?{x:e.x,y:e.y}:t}function M(){return navigator.maxTouchPoints||"ontouchstart"in this}b.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};n(8143);const P=(0,o.createContext)(null),A=P.Provider,k=e=>`Node type "${e}" not found. Using fallback type "default".`,T=()=>"The React Flow parent container needs a width and a height to render the graph.",N=()=>"Only child nodes can use a parent extent.",D=()=>"Can't create edge. An edge needs a source and a target.",R=e=>`Marker type "${e}" doesn't exist.`,V=(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,I=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",O=e=>`Edge type "${e}" not found. Using fallback type "default".`,B=e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,L=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function $(e,t){const n=(0,o.useContext)(P);if(null===n)throw new Error(L);return u(n,e,t)}const F=()=>{const e=(0,o.useContext)(P);if(null===e)throw new Error(L);return(0,o.useMemo)((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy})),[e])},j=e=>e.userSelectionActive?"none":"all";function z({position:e,children:t,className:n,style:s,...r}){const a=$(j),l=`${e}`.split("-");return o.createElement("div",{className:(0,i.A)(["react-flow__panel",n,...l]),style:{...s,pointerEvents:a},...r},t)}function _({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:o.createElement(z,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},o.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var H=(0,o.memo)((({x:e,y:t,label:n,labelStyle:s={},labelShowBg:r=!0,labelBgStyle:a={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:d,className:u,...h})=>{const m=(0,o.useRef)(null),[p,f]=(0,o.useState)({x:0,y:0,width:0,height:0}),g=(0,i.A)(["react-flow__edge-textwrapper",u]);return(0,o.useEffect)((()=>{if(m.current){const e=m.current.getBBox();f({x:e.x,y:e.y,width:e.width,height:e.height})}}),[n]),void 0!==n&&n?o.createElement("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:g,visibility:p.width?"visible":"hidden",...h},r&&o.createElement("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:a,rx:c,ry:c}),o.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:m,style:s},n),d):null}));const Y=e=>({width:e.offsetWidth,height:e.offsetHeight}),U=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),W=(e={x:0,y:0},t)=>({x:U(e.x,t[0][0],t[1][0]),y:U(e.y,t[0][1],t[1][1])}),X=(e,t,n)=>e<t?U(Math.abs(e-t),1,50)/50:e>n?-U(Math.abs(e-n),1,50)/50:0,K=(e,t)=>[20*X(e.x,35,t.width-35),20*X(e.y,35,t.height-35)],Z=e=>e.getRootNode?.()||window?.document,G=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),q=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),Q=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),J=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),ee=(e,t)=>Q(G(q(e),q(t))),te=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},ne=e=>oe(e.width)&&oe(e.height)&&oe(e.x)&&oe(e.y),oe=e=>!isNaN(e)&&isFinite(e),ie=Symbol.for("internals"),se=["Enter"," ","Escape"],re=(e,t)=>{0};function ae(e){const t=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,n=t.composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const le=e=>"clientX"in e,ce=(e,t)=>{const n=le(e),o=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:o-(t?.left??0),y:i-(t?.top??0)}},de=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,ue=({id:e,path:t,labelX:n,labelY:i,label:s,labelStyle:r,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:u,markerEnd:h,markerStart:m,interactionWidth:p=20})=>o.createElement(o.Fragment,null,o.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:m}),p&&o.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),s&&oe(n)&&oe(i)?o.createElement(H,{x:n,y:i,label:s,labelStyle:r,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d}):null);ue.displayName="BaseEdge";function he(e,t,n){return void 0===n?n:o=>{const i=t().edges.find((t=>t.id===e));i&&n(o,{...i})}}function me({sourceX:e,sourceY:t,targetX:n,targetY:o}){const i=Math.abs(n-e)/2,s=n<e?n+i:n-i,r=Math.abs(o-t)/2;return[s,o<t?o+r:o-r,i,r]}function pe({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:i,sourceControlY:s,targetControlX:r,targetControlY:a}){const l=.125*e+.375*i+.375*r+.125*n,c=.125*t+.375*s+.375*a+.125*o;return[l,c,Math.abs(l-e),Math.abs(c-t)]}var fe,ge,ye,ve,xe,Se;function be({pos:e,x1:t,y1:n,x2:o,y2:i}){return e===Se.Left||e===Se.Right?[.5*(t+o),n]:[t,.5*(n+i)]}function we({sourceX:e,sourceY:t,sourcePosition:n=Se.Bottom,targetX:o,targetY:i,targetPosition:s=Se.Top}){const[r,a]=be({pos:n,x1:e,y1:t,x2:o,y2:i}),[l,c]=be({pos:s,x1:o,y1:i,x2:e,y2:t}),[d,u,h,m]=pe({sourceX:e,sourceY:t,targetX:o,targetY:i,sourceControlX:r,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${r},${a} ${l},${c} ${o},${i}`,d,u,h,m]}!function(e){e.Strict="strict",e.Loose="loose"}(fe||(fe={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(ge||(ge={})),function(e){e.Partial="partial",e.Full="full"}(ye||(ye={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(ve||(ve={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(xe||(xe={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Se||(Se={}));const Ee=(0,o.memo)((({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:s=Se.Bottom,targetPosition:r=Se.Top,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:f,interactionWidth:g})=>{const[y,v,x]=we({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:i,targetPosition:r});return o.createElement(ue,{path:y,labelX:v,labelY:x,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:f,interactionWidth:g})}));Ee.displayName="SimpleBezierEdge";const Ce={[Se.Left]:{x:-1,y:0},[Se.Right]:{x:1,y:0},[Se.Top]:{x:0,y:-1},[Se.Bottom]:{x:0,y:1}},Me=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Pe({source:e,sourcePosition:t=Se.Bottom,target:n,targetPosition:o=Se.Top,center:i,offset:s}){const r=Ce[t],a=Ce[o],l={x:e.x+r.x*s,y:e.y+r.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},d=(({source:e,sourcePosition:t=Se.Bottom,target:n})=>t===Se.Left||t===Se.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1})({source:l,sourcePosition:t,target:c}),u=0!==d.x?"x":"y",h=d[u];let m,p,f=[];const g={x:0,y:0},y={x:0,y:0},[v,x,S,b]=me({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(r[u]*a[u]==-1){m=i.x??v,p=i.y??x;const e=[{x:m,y:l.y},{x:m,y:c.y}],t=[{x:l.x,y:p},{x:c.x,y:p}];f=r[u]===h?"x"===u?e:t:"x"===u?t:e}else{const i=[{x:l.x,y:c.y}],d=[{x:c.x,y:l.y}];if(f="x"===u?r.x===h?d:i:r.y===h?i:d,t===o){const t=Math.abs(e[u]-n[u]);if(t<=s){const o=Math.min(s-1,s-t);r[u]===h?g[u]=(l[u]>e[u]?-1:1)*o:y[u]=(c[u]>n[u]?-1:1)*o}}if(t!==o){const e="x"===u?"y":"x",t=r[u]===a[e],n=l[e]>c[e],o=l[e]<c[e];(1===r[u]&&(!t&&n||t&&o)||1!==r[u]&&(!t&&o||t&&n))&&(f="x"===u?i:d)}const v={x:l.x+g.x,y:l.y+g.y},x={x:c.x+y.x,y:c.y+y.y};Math.max(Math.abs(v.x-f[0].x),Math.abs(x.x-f[0].x))>=Math.max(Math.abs(v.y-f[0].y),Math.abs(x.y-f[0].y))?(m=(v.x+x.x)/2,p=f[0].y):(m=f[0].x,p=(v.y+x.y)/2)}return[[e,{x:l.x+g.x,y:l.y+g.y},...f,{x:c.x+y.x,y:c.y+y.y},n],m,p,S,b]}function Ae({sourceX:e,sourceY:t,sourcePosition:n=Se.Bottom,targetX:o,targetY:i,targetPosition:s=Se.Top,borderRadius:r=5,centerX:a,centerY:l,offset:c=20}){const[d,u,h,m,p]=Pe({source:{x:e,y:t},sourcePosition:n,target:{x:o,y:i},targetPosition:s,center:{x:a,y:l},offset:c});return[d.reduce(((e,t,n)=>{let o="";return o=n>0&&n<d.length-1?function(e,t,n,o){const i=Math.min(Me(e,t)/2,Me(t,n)/2,o),{x:s,y:r}=t;if(e.x===s&&s===n.x||e.y===r&&r===n.y)return`L${s} ${r}`;if(e.y===r)return`L ${s+i*(e.x<n.x?-1:1)},${r}Q ${s},${r} ${s},${r+i*(e.y<n.y?1:-1)}`;const a=e.x<n.x?1:-1;return`L ${s},${r+i*(e.y<n.y?-1:1)}Q ${s},${r} ${s+i*a},${r}`}(d[n-1],t,d[n+1],r):`${0===n?"M":"L"}${t.x} ${t.y}`,e+=o}),""),u,h,m,p]}const ke=(0,o.memo)((({sourceX:e,sourceY:t,targetX:n,targetY:i,label:s,labelStyle:r,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:u,sourcePosition:h=Se.Bottom,targetPosition:m=Se.Top,markerEnd:p,markerStart:f,pathOptions:g,interactionWidth:y})=>{const[v,x,S]=Ae({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:i,targetPosition:m,borderRadius:g?.borderRadius,offset:g?.offset});return o.createElement(ue,{path:v,labelX:x,labelY:S,label:s,labelStyle:r,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:u,markerEnd:p,markerStart:f,interactionWidth:y})}));ke.displayName="SmoothStepEdge";const Te=(0,o.memo)((e=>o.createElement(ke,{...e,pathOptions:(0,o.useMemo)((()=>({borderRadius:0,offset:e.pathOptions?.offset})),[e.pathOptions?.offset])})));Te.displayName="StepEdge";const Ne=(0,o.memo)((({sourceX:e,sourceY:t,targetX:n,targetY:i,label:s,labelStyle:r,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:u,markerEnd:h,markerStart:m,interactionWidth:p})=>{const[f,g,y]=function({sourceX:e,sourceY:t,targetX:n,targetY:o}){const[i,s,r,a]=me({sourceX:e,sourceY:t,targetX:n,targetY:o});return[`M ${e},${t}L ${n},${o}`,i,s,r,a]}({sourceX:e,sourceY:t,targetX:n,targetY:i});return o.createElement(ue,{path:f,labelX:g,labelY:y,label:s,labelStyle:r,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,style:u,markerEnd:h,markerStart:m,interactionWidth:p})}));function De(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function Re({pos:e,x1:t,y1:n,x2:o,y2:i,c:s}){switch(e){case Se.Left:return[t-De(t-o,s),n];case Se.Right:return[t+De(o-t,s),n];case Se.Top:return[t,n-De(n-i,s)];case Se.Bottom:return[t,n+De(i-n,s)]}}function Ve({sourceX:e,sourceY:t,sourcePosition:n=Se.Bottom,targetX:o,targetY:i,targetPosition:s=Se.Top,curvature:r=.25}){const[a,l]=Re({pos:n,x1:e,y1:t,x2:o,y2:i,c:r}),[c,d]=Re({pos:s,x1:o,y1:i,x2:e,y2:t,c:r}),[u,h,m,p]=pe({sourceX:e,sourceY:t,targetX:o,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${e},${t} C${a},${l} ${c},${d} ${o},${i}`,u,h,m,p]}Ne.displayName="StraightEdge";const Ie=(0,o.memo)((({sourceX:e,sourceY:t,targetX:n,targetY:i,sourcePosition:s=Se.Bottom,targetPosition:r=Se.Top,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:f,pathOptions:g,interactionWidth:y})=>{const[v,x,S]=Ve({sourceX:e,sourceY:t,sourcePosition:s,targetX:n,targetY:i,targetPosition:r,curvature:g?.curvature});return o.createElement(ue,{path:v,labelX:x,labelY:S,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:m,markerEnd:p,markerStart:f,interactionWidth:y})}));Ie.displayName="BezierEdge";const Oe=(0,o.createContext)(null),Be=Oe.Provider;Oe.Consumer;const Le=({source:e,sourceHandle:t,target:n,targetHandle:o})=>`reactflow__edge-${e}${t||""}-${n}${o||""}`,$e=(e,t)=>{if(void 0===e)return"";if("string"==typeof e)return e;return`${t?`${t}__`:""}${Object.keys(e).sort().map((t=>`${t}=${e[t]}`)).join("&")}`},Fe=({x:e,y:t},[n,o,i],s,[r,a])=>{const l={x:(e-n)/i,y:(t-o)/i};return s?{x:r*Math.round(l.x/r),y:a*Math.round(l.y/a)}:l},je=({x:e,y:t},[n,o,i])=>({x:e*i+n,y:t*i+o}),ze=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],o=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-o};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-o}:i}},_e=(e,t=[0,0])=>{if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const{x:o,y:i}=ze(n,t).positionAbsolute;return G(e,q({x:o,y:i,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Q(n)},He=(e,t,[n,o,i]=[0,0,1],s=!1,r=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-o)/i,width:t.width/i,height:t.height/i},c=[];return e.forEach((e=>{const{width:t,height:n,selectable:o=!0,hidden:i=!1}=e;if(r&&!o||i)return!1;const{positionAbsolute:d}=ze(e,a),u={x:d.x,y:d.y,width:t||0,height:n||0},h=te(l,u);(void 0===t||void 0===n||null===t||null===n||s&&h>0||h>=(t||0)*(n||0)||e.dragging)&&c.push(e)})),c},Ye=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},Ue=(e,t,n,o,i,s=.1)=>{const r=t/(e.width*(1+s)),a=n/(e.height*(1+s)),l=Math.min(r,a),c=U(l,o,i);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},We=(e,t=0)=>e.transition().duration(t);function Xe(e,t,n,o){return(t[n]||[]).reduce(((t,i)=>(`${e.id}-${i.id}-${n}`!==o&&t.push({id:i.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+i.x+i.width/2,y:(e.positionAbsolute?.y??0)+i.y+i.height/2}),t)),[])}const Ke={source:null,target:null,sourceHandle:null,targetHandle:null},Ze=()=>({handleDomNode:null,isValid:!1,connection:Ke,endHandle:null});function Ge(e,t,n,o,i,s,r){const a="target"===i,l=r.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),c={...Ze(),handleDomNode:l};if(l){const e=qe(void 0,l),i=l.getAttribute("data-nodeid"),r=l.getAttribute("data-handleid"),d=l.classList.contains("connectable"),u=l.classList.contains("connectableend"),h={source:a?i:n,sourceHandle:a?r:o,target:a?n:i,targetHandle:a?o:r};c.connection=h;d&&u&&(t===fe.Strict?a&&"source"===e||!a&&"target"===e:i!==n||r!==o)&&(c.endHandle={nodeId:i,handleId:r,type:e},c.isValid=s(h))}return c}function qe(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Qe(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Je(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function et({event:e,handleId:t,nodeId:n,onConnect:o,isTarget:i,getState:s,setState:r,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:c}){const d=Z(e.target),{connectionMode:u,domNode:h,autoPanOnConnect:m,connectionRadius:p,onConnectStart:f,panBy:g,getNodes:y,cancelConnection:v}=s();let x,S=0;const{x:b,y:w}=ce(e),E=d?.elementFromPoint(b,w),C=qe(l,E),M=h?.getBoundingClientRect();if(!M||!C)return;let P,A=ce(e,M),k=!1,T=null,N=!1,D=null;const R=function({nodes:e,nodeId:t,handleId:n,handleType:o}){return e.reduce(((e,i)=>{if(i[ie]){const{handleBounds:s}=i[ie];let r=[],a=[];s&&(r=Xe(i,s,"source",`${t}-${n}-${o}`),a=Xe(i,s,"target",`${t}-${n}-${o}`)),e.push(...r,...a)}return e}),[])}({nodes:y(),nodeId:n,handleId:t,handleType:C}),V=()=>{if(!m)return;const[e,t]=K(A,M);g({x:e,y:t}),S=requestAnimationFrame(V)};function I(e){const{transform:o}=s();A=ce(e,M);const{handle:l,validHandleResult:c}=function(e,t,n,o,i,s){const{x:r,y:a}=ce(e),l=t.elementsFromPoint(r,a).find((e=>e.classList.contains("react-flow__handle")));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=qe(void 0,l),o=l.getAttribute("data-handleid"),r=s({nodeId:e,id:o,type:t});if(r){const s=i.find((n=>n.nodeId===e&&n.type===t&&n.id===o));return{handle:{id:o,type:t,nodeId:e,x:s?.x||n.x,y:s?.y||n.y},validHandleResult:r}}}}let c=[],d=1/0;if(i.forEach((e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=o){const n=s(e);t<=d&&(t<d?c=[{handle:e,validHandleResult:n}]:t===d&&c.push({handle:e,validHandleResult:n}),d=t)}})),!c.length)return{handle:null,validHandleResult:Ze()};if(1===c.length)return c[0];const u=c.some((({validHandleResult:e})=>e.isValid)),h=c.some((({handle:e})=>"target"===e.type));return c.find((({handle:e,validHandleResult:t})=>h?"target"===e.type:!u||t.isValid))||c[0]}(e,d,Fe(A,o,!1,[1,1]),p,R,(e=>Ge(e,u,n,t,i?"target":"source",a,d)));if(x=l,k||(V(),k=!0),D=c.handleDomNode,T=c.connection,N=c.isValid,r({connectionPosition:x&&N?je({x:x.x,y:x.y},o):A,connectionStatus:Je(!!x,N),connectionEndHandle:c.endHandle}),!x&&!N&&!D)return Qe(P);T.source!==T.target&&D&&(Qe(P),P=D,D.classList.add("connecting","react-flow__handle-connecting"),D.classList.toggle("valid",N),D.classList.toggle("react-flow__handle-valid",N))}function O(e){(x||D)&&T&&N&&o?.(T),s().onConnectEnd?.(e),l&&c?.(e),Qe(P),v(),cancelAnimationFrame(S),k=!1,N=!1,T=null,D=null,d.removeEventListener("mousemove",I),d.removeEventListener("mouseup",O),d.removeEventListener("touchmove",I),d.removeEventListener("touchend",O)}r({connectionPosition:A,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:C,connectionStartHandle:{nodeId:n,handleId:t,type:C},connectionEndHandle:null}),f?.(e,{nodeId:n,handleId:t,handleType:C}),d.addEventListener("mousemove",I),d.addEventListener("mouseup",O),d.addEventListener("touchmove",I),d.addEventListener("touchend",O)}const tt=()=>!0,nt=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),ot=(0,o.forwardRef)((({type:e="source",position:t=Se.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:r=!0,isConnectableEnd:a=!0,id:l,onConnect:c,children:d,className:u,onMouseDown:h,onTouchStart:p,...f},g)=>{const y=l||null,v="target"===e,x=F(),S=(0,o.useContext)(Oe),{connectOnClick:b,noPanClassName:w}=$(nt,m.x),{connecting:E,clickConnecting:C}=$(((e,t,n)=>o=>{const{connectionStartHandle:i,connectionEndHandle:s,connectionClickStartHandle:r}=o;return{connecting:i?.nodeId===e&&i?.handleId===t&&i?.type===n||s?.nodeId===e&&s?.handleId===t&&s?.type===n,clickConnecting:r?.nodeId===e&&r?.handleId===t&&r?.type===n}})(S,y,e),m.x);S||x.getState().onError?.("010",I());const M=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=x.getState(),i={...t,...e};if(o){const{edges:e,setEdges:t}=x.getState();t(((e,t)=>{if(!e.source||!e.target)return re(0,D()),t;let n;var o;return n="id"in(o=e)&&"source"in o&&"target"in o?{...e}:{...e,id:Le(e)},((e,t)=>t.some((t=>!(t.source!==e.source||t.target!==e.target||t.sourceHandle!==e.sourceHandle&&(t.sourceHandle||e.sourceHandle)||t.targetHandle!==e.targetHandle&&(t.targetHandle||e.targetHandle)))))(n,t)?t:t.concat(n)})(i,e))}n?.(i),c?.(i)},P=e=>{if(!S)return;const t=le(e);r&&(t&&0===e.button||!t)&&et({event:e,handleId:y,nodeId:S,onConnect:M,isTarget:v,getState:x.getState,setState:x.setState,isValidConnection:n||x.getState().isValidConnection||tt}),t?h?.(e):p?.(e)};return o.createElement("div",{"data-handleid":y,"data-nodeid":S,"data-handlepos":t,"data-id":`${S}-${y}-${e}`,className:(0,i.A)(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,u,{source:!v,target:v,connectable:s,connectablestart:r,connectableend:a,connecting:C,connectionindicator:s&&(r&&!E||a&&E)}]),onMouseDown:P,onTouchStart:P,onClick:b?t=>{const{onClickConnectStart:o,onClickConnectEnd:i,connectionClickStartHandle:s,connectionMode:a,isValidConnection:l}=x.getState();if(!S||!s&&!r)return;if(!s)return o?.(t,{nodeId:S,handleId:y,handleType:e}),void x.setState({connectionClickStartHandle:{nodeId:S,type:e,handleId:y}});const c=Z(t.target),d=n||l||tt,{connection:u,isValid:h}=Ge({nodeId:S,id:y,type:e},a,s.nodeId,s.handleId||null,s.type,d,c);h&&M(u),i?.(t),x.setState({connectionClickStartHandle:null})}:void 0,ref:g,...f},d)}));ot.displayName="Handle";var it=(0,o.memo)(ot);const st=({data:e,isConnectable:t,targetPosition:n=Se.Top,sourcePosition:i=Se.Bottom})=>o.createElement(o.Fragment,null,o.createElement(it,{type:"target",position:n,isConnectable:t}),e?.label,o.createElement(it,{type:"source",position:i,isConnectable:t}));st.displayName="DefaultNode";var rt=(0,o.memo)(st);const at=({data:e,isConnectable:t,sourcePosition:n=Se.Bottom})=>o.createElement(o.Fragment,null,e?.label,o.createElement(it,{type:"source",position:n,isConnectable:t}));at.displayName="InputNode";var lt=(0,o.memo)(at);const ct=({data:e,isConnectable:t,targetPosition:n=Se.Top})=>o.createElement(o.Fragment,null,o.createElement(it,{type:"target",position:n,isConnectable:t}),e?.label);ct.displayName="OutputNode";var dt=(0,o.memo)(ct);const ut=()=>null;ut.displayName="GroupNode";const ht=e=>({selectedNodes:e.getNodes().filter((e=>e.selected)),selectedEdges:e.edges.filter((e=>e.selected)).map((e=>({...e})))}),mt=e=>e.id;function pt(e,t){return(0,m.x)(e.selectedNodes.map(mt),t.selectedNodes.map(mt))&&(0,m.x)(e.selectedEdges.map(mt),t.selectedEdges.map(mt))}const ft=(0,o.memo)((({onSelectionChange:e})=>{const t=F(),{selectedNodes:n,selectedEdges:i}=$(ht,pt);return(0,o.useEffect)((()=>{const o={nodes:n,edges:i};e?.(o),t.getState().onSelectionChange.forEach((e=>e(o)))}),[n,i,e]),null}));ft.displayName="SelectionListener";const gt=e=>!!e.onSelectionChange;function yt({onSelectionChange:e}){const t=$(gt);return e||t?o.createElement(ft,{onSelectionChange:e}):null}const vt=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function xt(e,t){(0,o.useEffect)((()=>{void 0!==e&&t(e)}),[e])}function St(e,t,n){(0,o.useEffect)((()=>{void 0!==t&&n({[e]:t})}),[t])}const bt=({nodes:e,edges:t,defaultNodes:n,defaultEdges:i,onConnect:s,onConnectStart:r,onConnectEnd:a,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:d,nodesConnectable:u,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:f,elevateNodesOnSelect:g,minZoom:y,maxZoom:v,nodeExtent:x,onNodesChange:S,onEdgesChange:b,elementsSelectable:w,connectionMode:E,snapGrid:C,snapToGrid:M,translateExtent:P,connectOnClick:A,defaultEdgeOptions:k,fitView:T,fitViewOptions:N,onNodesDelete:D,onEdgesDelete:R,onNodeDrag:V,onNodeDragStart:I,onNodeDragStop:O,onSelectionDrag:B,onSelectionDragStart:L,onSelectionDragStop:j,noPanClassName:z,nodeOrigin:_,rfId:H,autoPanOnConnect:Y,autoPanOnNodeDrag:U,onError:W,connectionRadius:X,isValidConnection:K,nodeDragThreshold:Z})=>{const{setNodes:G,setEdges:q,setDefaultNodesAndEdges:Q,setMinZoom:J,setMaxZoom:ee,setTranslateExtent:te,setNodeExtent:ne,reset:oe}=$(vt,m.x),ie=F();return(0,o.useEffect)((()=>{const e=i?.map((e=>({...e,...k})));return Q(n,e),()=>{oe()}}),[]),St("defaultEdgeOptions",k,ie.setState),St("connectionMode",E,ie.setState),St("onConnect",s,ie.setState),St("onConnectStart",r,ie.setState),St("onConnectEnd",a,ie.setState),St("onClickConnectStart",l,ie.setState),St("onClickConnectEnd",c,ie.setState),St("nodesDraggable",d,ie.setState),St("nodesConnectable",u,ie.setState),St("nodesFocusable",h,ie.setState),St("edgesFocusable",p,ie.setState),St("edgesUpdatable",f,ie.setState),St("elementsSelectable",w,ie.setState),St("elevateNodesOnSelect",g,ie.setState),St("snapToGrid",M,ie.setState),St("snapGrid",C,ie.setState),St("onNodesChange",S,ie.setState),St("onEdgesChange",b,ie.setState),St("connectOnClick",A,ie.setState),St("fitViewOnInit",T,ie.setState),St("fitViewOnInitOptions",N,ie.setState),St("onNodesDelete",D,ie.setState),St("onEdgesDelete",R,ie.setState),St("onNodeDrag",V,ie.setState),St("onNodeDragStart",I,ie.setState),St("onNodeDragStop",O,ie.setState),St("onSelectionDrag",B,ie.setState),St("onSelectionDragStart",L,ie.setState),St("onSelectionDragStop",j,ie.setState),St("noPanClassName",z,ie.setState),St("nodeOrigin",_,ie.setState),St("rfId",H,ie.setState),St("autoPanOnConnect",Y,ie.setState),St("autoPanOnNodeDrag",U,ie.setState),St("onError",W,ie.setState),St("connectionRadius",X,ie.setState),St("isValidConnection",K,ie.setState),St("nodeDragThreshold",Z,ie.setState),xt(e,G),xt(t,q),xt(y,J),xt(v,ee),xt(P,te),xt(x,ne),null},wt={display:"none"},Et={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Ct="react-flow__node-desc",Mt="react-flow__edge-desc",Pt=e=>e.ariaLiveMessage;function At({rfId:e}){const t=$(Pt);return o.createElement("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Et},t)}function kt({rfId:e,disableKeyboardA11y:t}){return o.createElement(o.Fragment,null,o.createElement("div",{id:`${Ct}-${e}`,style:wt},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),o.createElement("div",{id:`${Mt}-${e}`,style:wt},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&o.createElement(At,{rfId:e}))}var Tt=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,i]=(0,o.useState)(!1),s=(0,o.useRef)(!1),r=(0,o.useRef)(new Set([])),[a,l]=(0,o.useMemo)((()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter((e=>"string"==typeof e)).map((e=>e.split("+"))),n=t.reduce(((e,t)=>e.concat(...t)),[]);return[t,n]}return[[],[]]}),[e]);return(0,o.useEffect)((()=>{const n="undefined"!=typeof document?document:null,o=t?.target||n;if(null!==e){const e=e=>{s.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!s.current||s.current&&!t.actInsideInputWithModifier)&&ae(e))return!1;const n=Dt(e.code,l);r.current.add(e[n]),Nt(a,r.current,!1)&&(e.preventDefault(),i(!0))},n=e=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&ae(e))return!1;const n=Dt(e.code,l);Nt(a,r.current,!0)?(i(!1),r.current.clear()):r.current.delete(e[n]),"Meta"===e.key&&r.current.clear(),s.current=!1},c=()=>{r.current.clear(),i(!1)};return o?.addEventListener("keydown",e),o?.addEventListener("keyup",n),window.addEventListener("blur",c),()=>{o?.removeEventListener("keydown",e),o?.removeEventListener("keyup",n),window.removeEventListener("blur",c)}}}),[e,i]),n};function Nt(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function Dt(e,t){return t.includes(e)?"code":"key"}function Rt(e,t,n,o){const i=e.parentNode||e.parentId;if(!i)return n;const s=t.get(i),r=ze(s,o);return Rt(s,t,{x:(n.x??0)+r.x,y:(n.y??0)+r.y,z:(s[ie]?.z??0)>(n.z??0)?s[ie]?.z??0:n.z??0},o)}function Vt(e,t,n){e.forEach((o=>{const i=o.parentNode||o.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n?.[o.id]){const{x:i,y:s,z:r}=Rt(o,e,{...o.position,z:o[ie]?.z??0},t);o.positionAbsolute={x:i,y:s},o[ie].z=r,n?.[o.id]&&(o[ie].isParent=!0)}}))}function It(e,t,n,o){const i=new Map,s={},r=o?1e3:0;return e.forEach((e=>{const n=(oe(e.zIndex)?e.zIndex:0)+(e.selected?r:0),o=t.get(e.id),a={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},l=e.parentNode||e.parentId;l&&(s[l]=!0);const c=o?.type&&o?.type!==e.type;Object.defineProperty(a,ie,{enumerable:!1,value:{handleBounds:c?void 0:o?.[ie]?.handleBounds,z:n}}),i.set(e.id,a)})),Vt(i,n,s),i}function Ot(e,t={}){const{getNodes:n,width:o,height:i,minZoom:s,maxZoom:r,d3Zoom:a,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:u}=e(),h=t.initial&&!c&&d;if(a&&l&&(h||!t.initial)){const e=n().filter((e=>{const n=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return t.nodes?.length?n&&t.nodes.some((t=>t.id===e.id)):n})),c=e.every((e=>e.width&&e.height));if(e.length>0&&c){const n=_e(e,u),{x:c,y:d,zoom:h}=Ue(n,o,i,t.minZoom??s,t.maxZoom??r,t.padding??.1),m=p.GS.translate(c,d).scale(h);return"number"==typeof t.duration&&t.duration>0?a.transform(We(l,t.duration),m):a.transform(l,m),!0}}return!1}function Bt(e,t){return e.forEach((e=>{const n=t.get(e.id);n&&t.set(n.id,{...n,[ie]:n[ie],selected:e.selected})})),new Map(t)}function Lt(e,t){return t.map((t=>{const n=e.find((e=>e.id===t.id));return n&&(t.selected=n.selected),t}))}function $t({changedNodes:e,changedEdges:t,get:n,set:o}){const{nodeInternals:i,edges:s,onNodesChange:r,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:c}=n();e?.length&&(l&&o({nodeInternals:Bt(e,i)}),r?.(e)),t?.length&&(c&&o({edges:Lt(t,s)}),a?.(t))}const Ft=()=>{},jt={zoomIn:Ft,zoomOut:Ft,zoomTo:Ft,getZoom:()=>1,setViewport:Ft,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Ft,fitBounds:Ft,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},zt=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),_t=()=>{const e=F(),{d3Zoom:t,d3Selection:n}=$(zt,m.x);return(0,o.useMemo)((()=>n&&t?{zoomIn:e=>t.scaleBy(We(n,e?.duration),1.2),zoomOut:e=>t.scaleBy(We(n,e?.duration),1/1.2),zoomTo:(e,o)=>t.scaleTo(We(n,o?.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{const[s,r,a]=e.getState().transform,l=p.GS.translate(o.x??s,o.y??r).scale(o.zoom??a);t.transform(We(n,i?.duration),l)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},fitView:t=>Ot(e.getState,t),setCenter:(o,i,s)=>{const{width:r,height:a,maxZoom:l}=e.getState(),c=void 0!==s?.zoom?s.zoom:l,d=r/2-o*c,u=a/2-i*c,h=p.GS.translate(d,u).scale(c);t.transform(We(n,s?.duration),h)},fitBounds:(o,i)=>{const{width:s,height:r,minZoom:a,maxZoom:l}=e.getState(),{x:c,y:d,zoom:u}=Ue(o,s,r,a,l,i?.padding??.1),h=p.GS.translate(c,d).scale(u);t.transform(We(n,i?.duration),h)},project:t=>{const{transform:n,snapToGrid:o,snapGrid:i}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Fe(t,n,o,i)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:o,snapGrid:i,domNode:s}=e.getState();if(!s)return t;const{x:r,y:a}=s.getBoundingClientRect(),l={x:t.x-r,y:t.y-a};return Fe(l,n,o,i)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:i,y:s}=o.getBoundingClientRect(),r=je(t,n);return{x:r.x+i,y:r.y+s}},viewportInitialized:!0}:jt),[t,n])};function Ht(){const e=_t(),t=F(),n=(0,o.useCallback)((()=>t.getState().getNodes().map((e=>({...e})))),[]),i=(0,o.useCallback)((e=>t.getState().nodeInternals.get(e)),[]),s=(0,o.useCallback)((()=>{const{edges:e=[]}=t.getState();return e.map((e=>({...e})))}),[]),r=(0,o.useCallback)((e=>{const{edges:n=[]}=t.getState();return n.find((t=>t.id===e))}),[]),a=(0,o.useCallback)((e=>{const{getNodes:n,setNodes:o,hasDefaultNodes:i,onNodesChange:s}=t.getState(),r=n(),a="function"==typeof e?e(r):e;if(i)o(a);else if(s){s(0===a.length?r.map((e=>({type:"remove",id:e.id}))):a.map((e=>({item:e,type:"reset"}))))}}),[]),l=(0,o.useCallback)((e=>{const{edges:n=[],setEdges:o,hasDefaultEdges:i,onEdgesChange:s}=t.getState(),r="function"==typeof e?e(n):e;if(i)o(r);else if(s){s(0===r.length?n.map((e=>({type:"remove",id:e.id}))):r.map((e=>({item:e,type:"reset"}))))}}),[]),c=(0,o.useCallback)((e=>{const n=Array.isArray(e)?e:[e],{getNodes:o,setNodes:i,hasDefaultNodes:s,onNodesChange:r}=t.getState();if(s){i([...o(),...n])}else if(r){r(n.map((e=>({item:e,type:"add"}))))}}),[]),d=(0,o.useCallback)((e=>{const n=Array.isArray(e)?e:[e],{edges:o=[],setEdges:i,hasDefaultEdges:s,onEdgesChange:r}=t.getState();if(s)i([...o,...n]);else if(r){r(n.map((e=>({item:e,type:"add"}))))}}),[]),u=(0,o.useCallback)((()=>{const{getNodes:e,edges:n=[],transform:o}=t.getState(),[i,s,r]=o;return{nodes:e().map((e=>({...e}))),edges:n.map((e=>({...e}))),viewport:{x:i,y:s,zoom:r}}}),[]),h=(0,o.useCallback)((({nodes:e,edges:n})=>{const{nodeInternals:o,getNodes:i,edges:s,hasDefaultNodes:r,hasDefaultEdges:a,onNodesDelete:l,onEdgesDelete:c,onNodesChange:d,onEdgesChange:u}=t.getState(),h=(e||[]).map((e=>e.id)),m=(n||[]).map((e=>e.id)),p=i().reduce(((e,t)=>{const n=t.parentNode||t.parentId,o=!h.includes(t.id)&&n&&e.find((e=>e.id===n));return("boolean"!=typeof t.deletable||t.deletable)&&(h.includes(t.id)||o)&&e.push(t),e}),[]),f=s.filter((e=>"boolean"!=typeof e.deletable||e.deletable)),g=f.filter((e=>m.includes(e.id)));if(p||g){const e=Ye(p,f),n=[...g,...e],i=n.reduce(((e,t)=>(e.includes(t.id)||e.push(t.id),e)),[]);if((a||r)&&(a&&t.setState({edges:s.filter((e=>!i.includes(e.id)))}),r&&(p.forEach((e=>{o.delete(e.id)})),t.setState({nodeInternals:new Map(o)}))),i.length>0&&(c?.(n),u&&u(i.map((e=>({id:e,type:"remove"}))))),p.length>0&&(l?.(p),d)){d(p.map((e=>({id:e.id,type:"remove"}))))}}}),[]),m=(0,o.useCallback)((e=>{const n=ne(e),o=n?null:t.getState().nodeInternals.get(e.id);if(!n&&!o)return[null,null,n];return[n?e:J(o),o,n]}),[]),p=(0,o.useCallback)(((e,n=!0,o)=>{const[i,s,r]=m(e);return i?(o||t.getState().getNodes()).filter((e=>{if(!(r||e.id!==s.id&&e.positionAbsolute))return!1;const t=J(e),o=te(t,i);return n&&o>0||o>=i.width*i.height})):[]}),[]),f=(0,o.useCallback)(((e,t,n=!0)=>{const[o]=m(e);if(!o)return!1;const i=te(o,t);return n&&i>0||i>=o.width*o.height}),[]);return(0,o.useMemo)((()=>({...e,getNodes:n,getNode:i,getEdges:s,getEdge:r,setNodes:a,setEdges:l,addNodes:c,addEdges:d,toObject:u,deleteElements:h,getIntersectingNodes:p,isNodeIntersecting:f})),[e,n,i,s,r,a,l,c,d,u,h,p,f])}const Yt={actInsideInputWithModifier:!1};const Ut={position:"absolute",width:"100%",height:"100%",top:0,left:0},Wt=e=>({x:e.x,y:e.y,zoom:e.k}),Xt=(e,t)=>e.target.closest(`.${t}`),Kt=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Zt=e=>{const t=e.ctrlKey&&de()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},Gt=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),qt=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:i,zoomOnScroll:s=!0,zoomOnPinch:r=!0,panOnScroll:a=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=ge.Free,zoomOnDoubleClick:d=!0,elementsSelectable:u,panOnDrag:h=!0,defaultViewport:y,translateExtent:v,minZoom:x,maxZoom:S,zoomActivationKeyCode:b,preventScrolling:w=!0,children:E,noWheelClassName:C,noPanClassName:M})=>{const P=(0,o.useRef)(),A=F(),k=(0,o.useRef)(!1),N=(0,o.useRef)(!1),D=(0,o.useRef)(null),R=(0,o.useRef)({x:0,y:0,zoom:0}),{d3Zoom:V,d3Selection:I,d3ZoomHandler:O,userSelectionActive:B}=$(Gt,m.x),L=Tt(b),j=(0,o.useRef)(0),z=(0,o.useRef)(!1),_=(0,o.useRef)();return function(e){const t=F();(0,o.useEffect)((()=>{let n;const o=()=>{if(!e.current)return;const n=Y(e.current);0!==n.height&&0!==n.width||t.getState().onError?.("004",T()),t.setState({width:n.width||500,height:n.height||500})};return o(),window.addEventListener("resize",o),e.current&&(n=new ResizeObserver((()=>o())),n.observe(e.current)),()=>{window.removeEventListener("resize",o),n&&e.current&&n.unobserve(e.current)}}),[])}(D),(0,o.useEffect)((()=>{if(D.current){const e=D.current.getBoundingClientRect(),t=(0,p.s_)().scaleExtent([x,S]).translateExtent(v),n=(0,f.A)(D.current).call(t),o=p.GS.translate(y.x,y.y).scale(U(y.zoom,x,S)),i=[[0,0],[e.width,e.height]],s=t.constrain()(o,i,v);t.transform(n,s),t.wheelDelta(Zt),A.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[s.x,s.y,s.k],domNode:D.current.closest(".react-flow")})}}),[]),(0,o.useEffect)((()=>{I&&V&&(!a||L||B?void 0!==O&&I.on("wheel.zoom",(function(e,t){if(!w&&"wheel"===e.type&&!e.ctrlKey||Xt(e,C))return null;e.preventDefault(),O.call(this,e,t)}),{passive:!1}):I.on("wheel.zoom",(o=>{if(Xt(o,C))return!1;o.preventDefault(),o.stopImmediatePropagation();const i=I.property("__zoom").k||1;if(o.ctrlKey&&r){const e=(0,g.A)(o),t=Zt(o),n=i*Math.pow(2,t);return void V.scaleTo(I,n,e,o)}const s=1===o.deltaMode?20:1;let a=c===ge.Vertical?0:o.deltaX*s,d=c===ge.Horizontal?0:o.deltaY*s;!de()&&o.shiftKey&&c!==ge.Vertical&&(a=o.deltaY*s,d=0),V.translateBy(I,-a/i*l,-d/i*l,{internal:!0});const u=Wt(I.property("__zoom")),{onViewportChangeStart:h,onViewportChange:m,onViewportChangeEnd:p}=A.getState();clearTimeout(_.current),z.current||(z.current=!0,t?.(o,u),h?.(u)),z.current&&(e?.(o,u),m?.(u),_.current=setTimeout((()=>{n?.(o,u),p?.(u),z.current=!1}),150))}),{passive:!1}))}),[B,a,c,I,V,O,L,r,w,C,t,e,n]),(0,o.useEffect)((()=>{V&&V.on("start",(e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;j.current=e.sourceEvent?.button;const{onViewportChangeStart:n}=A.getState(),o=Wt(e.transform);k.current=!0,R.current=o,"mousedown"===e.sourceEvent?.type&&A.setState({paneDragging:!0}),n?.(o),t?.(e.sourceEvent,o)}))}),[V,t]),(0,o.useEffect)((()=>{V&&(B&&!k.current?V.on("zoom",null):B||V.on("zoom",(t=>{const{onViewportChange:n}=A.getState();if(A.setState({transform:[t.transform.x,t.transform.y,t.transform.k]}),N.current=!(!i||!Kt(h,j.current??0)),(e||n)&&!t.sourceEvent?.internal){const o=Wt(t.transform);n?.(o),e?.(t.sourceEvent,o)}})))}),[B,V,e,h,i]),(0,o.useEffect)((()=>{V&&V.on("end",(e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:t}=A.getState();if(k.current=!1,A.setState({paneDragging:!1}),i&&Kt(h,j.current??0)&&!N.current&&i(e.sourceEvent),N.current=!1,(n||t)&&(o=R.current,s=e.transform,o.x!==s.x||o.y!==s.y||o.zoom!==s.k)){const o=Wt(e.transform);R.current=o,clearTimeout(P.current),P.current=setTimeout((()=>{t?.(o),n?.(e.sourceEvent,o)}),a?150:0)}var o,s}))}),[V,a,h,n,i]),(0,o.useEffect)((()=>{V&&V.filter((e=>{const t=L||s,n=r&&e.ctrlKey;if((!0===h||Array.isArray(h)&&h.includes(1))&&1===e.button&&"mousedown"===e.type&&(Xt(e,"react-flow__node")||Xt(e,"react-flow__edge")))return!0;if(!(h||t||a||d||r))return!1;if(B)return!1;if(!d&&"dblclick"===e.type)return!1;if(Xt(e,C)&&"wheel"===e.type)return!1;if(Xt(e,M)&&("wheel"!==e.type||a&&"wheel"===e.type&&!L))return!1;if(!r&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!a&&!n&&"wheel"===e.type)return!1;if(!h&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(h)&&!h.includes(e.button)&&"mousedown"===e.type)return!1;const o=Array.isArray(h)&&h.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&o}))}),[B,V,s,r,a,d,h,u,L]),o.createElement("div",{className:"react-flow__renderer",ref:D,style:Ut},E)},Qt=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Jt(){const{userSelectionActive:e,userSelectionRect:t}=$(Qt,m.x);return e&&t?o.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function en(e,t){const n=t.parentNode||t.parentId,o=e.find((e=>e.id===n));if(o){const e=t.position.x+t.width-o.width,n=t.position.y+t.height-o.height;if(e>0||n>0||t.position.x<0||t.position.y<0){if(o.style={...o.style}||{},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,e>0&&(o.style.width+=e),n>0&&(o.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);o.position.x=o.position.x-e,o.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);o.position.y=o.position.y-e,o.style.height+=e,t.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function tn(e,t){if(e.some((e=>"reset"===e.type)))return e.filter((e=>"reset"===e.type)).map((e=>e.item));const n=e.filter((e=>"add"===e.type)).map((e=>e.item));return t.reduce(((t,n)=>{const o=e.filter((e=>e.id===n.id));if(0===o.length)return t.push(n),t;const i={...n};for(const e of o)if(e)switch(e.type){case"select":i.selected=e.selected;break;case"position":void 0!==e.position&&(i.position=e.position),void 0!==e.positionAbsolute&&(i.positionAbsolute=e.positionAbsolute),void 0!==e.dragging&&(i.dragging=e.dragging),i.expandParent&&en(t,i);break;case"dimensions":void 0!==e.dimensions&&(i.width=e.dimensions.width,i.height=e.dimensions.height),void 0!==e.updateStyle&&(i.style={...i.style||{},...e.dimensions}),"boolean"==typeof e.resizing&&(i.resizing=e.resizing),i.expandParent&&en(t,i);break;case"remove":return t}return t.push(i),t}),n)}function nn(e,t){return tn(e,t)}const on=(e,t)=>({id:e,type:"select",selected:t});function sn(e,t){return e.reduce(((e,n)=>{const o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(on(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(on(n.id,!1))),e}),[])}const rn=(e,t)=>n=>{n.target===t.current&&e?.(n)},an=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),ln=(0,o.memo)((({isSelecting:e,selectionMode:t=ye.Full,panOnDrag:n,onSelectionStart:s,onSelectionEnd:r,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:u,onPaneMouseLeave:h,children:p})=>{const f=(0,o.useRef)(null),g=F(),y=(0,o.useRef)(0),v=(0,o.useRef)(0),x=(0,o.useRef)(),{userSelectionActive:S,elementsSelectable:b,dragging:w}=$(an,m.x),E=()=>{g.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,v.current=0},C=e=>{a?.(e),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},M=c?e=>c(e):void 0,P=b&&(e||S);return o.createElement("div",{className:(0,i.A)(["react-flow__pane",{dragging:w,selection:e}]),onClick:P?void 0:rn(C,f),onContextMenu:rn((e=>{Array.isArray(n)&&n?.includes(2)?e.preventDefault():l?.(e)}),f),onWheel:rn(M,f),onMouseEnter:P?void 0:d,onMouseDown:P?t=>{const{resetSelectedElements:n,domNode:o}=g.getState();if(x.current=o?.getBoundingClientRect(),!b||!e||0!==t.button||t.target!==f.current||!x.current)return;const{x:i,y:r}=ce(t,x.current);n(),g.setState({userSelectionRect:{width:0,height:0,startX:i,startY:r,x:i,y:r}}),s?.(t)}:void 0,onMouseMove:P?n=>{const{userSelectionRect:o,nodeInternals:i,edges:s,transform:r,onNodesChange:a,onEdgesChange:l,nodeOrigin:c,getNodes:d}=g.getState();if(!e||!x.current||!o)return;g.setState({userSelectionActive:!0,nodesSelectionActive:!1});const u=ce(n,x.current),h=o.startX??0,m=o.startY??0,p={...o,x:u.x<h?u.x:h,y:u.y<m?u.y:m,width:Math.abs(u.x-h),height:Math.abs(u.y-m)},f=d(),S=He(i,p,r,t===ye.Partial,!0,c),b=Ye(S,s).map((e=>e.id)),w=S.map((e=>e.id));if(y.current!==w.length){y.current=w.length;const e=sn(f,w);e.length&&a?.(e)}if(v.current!==b.length){v.current=b.length;const e=sn(s,b);e.length&&l?.(e)}g.setState({userSelectionRect:p})}:u,onMouseUp:P?e=>{if(0!==e.button)return;const{userSelectionRect:t}=g.getState();!S&&t&&e.target===f.current&&C?.(e),g.setState({nodesSelectionActive:y.current>0}),E(),r?.(e)}:void 0,onMouseLeave:P?e=>{S&&(g.setState({nodesSelectionActive:y.current>0}),r?.(e)),E()}:h,ref:f,style:Ut},p,o.createElement(Jt,null))}));function cn(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const o=t.get(n);return!!o&&(!!o.selected||cn(o,t))}function dn(e,t,n){let o=e;do{if(o?.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function un(e,t,n,o){return Array.from(e.values()).filter((n=>(n.selected||n.id===o)&&(!n.parentNode||n.parentId||!cn(n,e))&&(n.draggable||t&&void 0===n.draggable))).map((e=>({id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(e.positionAbsolute?.x??0),y:n.y-(e.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent})))}function hn(e,t,n,o,i=[0,0],s){const r=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||o);let a=r;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:o,y:s}=ze(t,i).positionAbsolute;a=[[e.extent[0][0]+o,e.extent[0][1]+s],[e.extent[1][0]+o,e.extent[1][1]+s]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:o,y:s}=ze(t,i).positionAbsolute;a=t&&oe(o)&&oe(s)&&oe(t.width)&&oe(t.height)?[[o+e.width*i[0],s+e.height*i[1]],[o+t.width-e.width+e.width*i[0],s+t.height-e.height+e.height*i[1]]]:a}else s?.("005",N()),a=r;let c={x:0,y:0};if(l){const e=n.get(l);c=ze(e,i).positionAbsolute}const d=a&&"parent"!==a?W(t,a):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function mn({nodeId:e,dragItems:t,nodeInternals:n}){const o=t.map((e=>({...n.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute})));return[e?o.find((t=>t.id===e)):o[0],o]}ln.displayName="Pane";const pn=(e,t,n,o)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const s=Array.from(i),r=t.getBoundingClientRect(),a=r.width*o[0],l=r.height*o[1];return s.map((e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-r.left-a)/n,y:(t.top-r.top-l)/n,...Y(e)}}))};function fn(e,t,n){return void 0===n?n:o=>{const i=t().nodeInternals.get(e);i&&n(o,{...i})}}function gn({id:e,store:t,unselect:n=!1,nodeRef:o}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:r,nodeInternals:a,onError:l}=t.getState(),c=a.get(e);c?(t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&r)&&(s({nodes:[c],edges:[]}),requestAnimationFrame((()=>o?.current?.blur()))):i([e])):l?.("012",B(e))}function yn(e){return(t,n,o)=>e?.(t,o)}function vn({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:i,nodeId:s,isSelectable:r,selectNodesOnDrag:a}){const l=F(),[c,d]=(0,o.useState)(!1),u=(0,o.useRef)([]),h=(0,o.useRef)({x:null,y:null}),m=(0,o.useRef)(0),p=(0,o.useRef)(null),P=(0,o.useRef)({x:0,y:0}),A=(0,o.useRef)(null),k=(0,o.useRef)(!1),T=(0,o.useRef)(!1),N=(0,o.useRef)(!1),D=function(){const e=F();return(0,o.useCallback)((({sourceEvent:t})=>{const{transform:n,snapGrid:o,snapToGrid:i}=e.getState(),s=t.touches?t.touches[0].clientX:t.clientX,r=t.touches?t.touches[0].clientY:t.clientY,a={x:(s-n[0])/n[2],y:(r-n[1])/n[2]};return{xSnapped:i?o[0]*Math.round(a.x/o[0]):a.x,ySnapped:i?o[1]*Math.round(a.y/o[1]):a.y,...a}}),[])}();return(0,o.useEffect)((()=>{if(e?.current){const o=(0,f.A)(e.current),c=({x:e,y:t})=>{const{nodeInternals:n,onNodeDrag:o,onSelectionDrag:i,updateNodePositions:r,nodeExtent:a,snapGrid:c,snapToGrid:m,nodeOrigin:p,onError:f}=l.getState();h.current={x:e,y:t};let g=!1,y={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&a){const e=_e(u.current,p);y=q(e)}if(u.current=u.current.map((o=>{const i={x:e-o.distance.x,y:t-o.distance.y};m&&(i.x=c[0]*Math.round(i.x/c[0]),i.y=c[1]*Math.round(i.y/c[1]));const s=[[a[0][0],a[0][1]],[a[1][0],a[1][1]]];u.current.length>1&&a&&!o.extent&&(s[0][0]=o.positionAbsolute.x-y.x+a[0][0],s[1][0]=o.positionAbsolute.x+(o.width??0)-y.x2+a[1][0],s[0][1]=o.positionAbsolute.y-y.y+a[0][1],s[1][1]=o.positionAbsolute.y+(o.height??0)-y.y2+a[1][1]);const r=hn(o,i,n,s,p,f);return g=g||o.position.x!==r.position.x||o.position.y!==r.position.y,o.position=r.position,o.positionAbsolute=r.positionAbsolute,o})),!g)return;r(u.current,!0,!0),d(!0);const v=s?o:yn(i);if(v&&A.current){const[e,t]=mn({nodeId:s,dragItems:u.current,nodeInternals:n});v(A.current,e,t)}},R=()=>{if(!p.current)return;const[e,t]=K(P.current,p.current);if(0!==e||0!==t){const{transform:n,panBy:o}=l.getState();h.current.x=(h.current.x??0)-e/n[2],h.current.y=(h.current.y??0)-t/n[2],o({x:e,y:t})&&c(h.current)}m.current=requestAnimationFrame(R)},V=t=>{const{nodeInternals:n,multiSelectionActive:o,nodesDraggable:i,unselectNodesAndEdges:c,onNodeDragStart:d,onSelectionDragStart:m}=l.getState();T.current=!0;const p=s?d:yn(m);a&&r||o||!s||n.get(s)?.selected||c(),s&&r&&a&&gn({id:s,store:l,nodeRef:e});const f=D(t);if(h.current=f,u.current=un(n,i,f,s),p&&u.current){const[e,o]=mn({nodeId:s,dragItems:u.current,nodeInternals:n});p(t.sourceEvent,e,o)}};if(!t){const t=function(){var e,t,n,o,i=w,s=E,r=C,a=M,l={},c=(0,y.A)("start","drag","end"),d=0,u=0;function h(e){e.on("mousedown.drag",m).filter(a).on("touchstart.drag",A).on("touchmove.drag",k,x.vr).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(r,a){if(!o&&i.call(this,r,a)){var l=N(this,s.call(this,r,a),r,a,"mouse");l&&((0,f.A)(r.view).on("mousemove.drag",p,x.Rw).on("mouseup.drag",P,x.Rw),(0,v.A)(r.view),(0,x.GK)(r),n=!1,e=r.clientX,t=r.clientY,l("start",r))}}function p(o){if((0,x.Ay)(o),!n){var i=o.clientX-e,s=o.clientY-t;n=i*i+s*s>u}l.mouse("drag",o)}function P(e){(0,f.A)(e.view).on("mousemove.drag mouseup.drag",null),(0,v.y)(e.view,n),(0,x.Ay)(e),l.mouse("end",e)}function A(e,t){if(i.call(this,e,t)){var n,o,r=e.changedTouches,a=s.call(this,e,t),l=r.length;for(n=0;n<l;++n)(o=N(this,a,e,t,r[n].identifier,r[n]))&&((0,x.GK)(e),o("start",e,r[n]))}}function k(e){var t,n,o=e.changedTouches,i=o.length;for(t=0;t<i;++t)(n=l[o[t].identifier])&&((0,x.Ay)(e),n("drag",e,o[t]))}function T(e){var t,n,i=e.changedTouches,s=i.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),t=0;t<s;++t)(n=l[i[t].identifier])&&((0,x.GK)(e),n("end",e,i[t]))}function N(e,t,n,o,i,s){var a,u,m,p=c.copy(),f=(0,g.A)(s||n,t);if(null!=(m=r.call(e,new b("beforestart",{sourceEvent:n,target:h,identifier:i,active:d,x:f[0],y:f[1],dx:0,dy:0,dispatch:p}),o)))return a=m.x-f[0]||0,u=m.y-f[1]||0,function n(s,r,c){var y,v=f;switch(s){case"start":l[i]=n,y=d++;break;case"end":delete l[i],--d;case"drag":f=(0,g.A)(c||r,t),y=d}p.call(s,e,new b(s,{sourceEvent:r,subject:m,target:h,identifier:i,active:y,x:f[0]+a,y:f[1]+u,dx:f[0]-v[0],dy:f[1]-v[1],dispatch:p}),o)}}return h.filter=function(e){return arguments.length?(i="function"==typeof e?e:S(!!e),h):i},h.container=function(e){return arguments.length?(s="function"==typeof e?e:S(e),h):s},h.subject=function(e){return arguments.length?(r="function"==typeof e?e:S(e),h):r},h.touchable=function(e){return arguments.length?(a="function"==typeof e?e:S(!!e),h):a},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(u=(e=+e)*e,h):Math.sqrt(u)},h}().on("start",(e=>{const{domNode:t,nodeDragThreshold:n}=l.getState();0===n&&V(e),N.current=!1;const o=D(e);h.current=o,p.current=t?.getBoundingClientRect()||null,P.current=ce(e.sourceEvent,p.current)})).on("drag",(e=>{const t=D(e),{autoPanOnNodeDrag:n,nodeDragThreshold:o}=l.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(N.current=!0),!N.current){if(!k.current&&T.current&&n&&(k.current=!0,R()),!T.current){const n=t.xSnapped-(h?.current?.x??0),i=t.ySnapped-(h?.current?.y??0);Math.sqrt(n*n+i*i)>o&&V(e)}(h.current.x!==t.xSnapped||h.current.y!==t.ySnapped)&&u.current&&T.current&&(A.current=e.sourceEvent,P.current=ce(e.sourceEvent,p.current),c(t))}})).on("end",(e=>{if(T.current&&!N.current&&(d(!1),k.current=!1,T.current=!1,cancelAnimationFrame(m.current),u.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:o,onSelectionDragStop:i}=l.getState(),r=s?o:yn(i);if(t(u.current,!1,!1),r){const[t,o]=mn({nodeId:s,dragItems:u.current,nodeInternals:n});r(e.sourceEvent,t,o)}}})).filter((t=>{const o=t.target;return!t.button&&(!n||!dn(o,`.${n}`,e))&&(!i||dn(o,i,e))}));return o.call(t),()=>{o.on(".drag",null)}}o.on(".drag",null)}}),[e,t,n,i,r,l,s,a,D]),c}function xn(){const e=F();return(0,o.useCallback)((t=>{const{nodeInternals:n,nodeExtent:o,updateNodePositions:i,getNodes:s,snapToGrid:r,snapGrid:a,onError:l,nodesDraggable:c}=e.getState(),d=s().filter((e=>e.selected&&(e.draggable||c&&void 0===e.draggable))),u=r?a[0]:5,h=r?a[1]:5,m=t.isShiftPressed?4:1,p=t.x*u*m,f=t.y*h*m;i(d.map((e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+f};r&&(t.x=a[0]*Math.round(t.x/a[0]),t.y=a[1]*Math.round(t.y/a[1]));const{positionAbsolute:i,position:s}=hn(e,t,n,o,void 0,l);e.position=s,e.positionAbsolute=i}return e})),!0,!1)}),[])}const Sn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var bn=e=>{const t=({id:t,type:n,data:s,xPos:r,yPos:a,xPosOrigin:l,yPosOrigin:c,selected:d,onClick:u,onMouseEnter:h,onMouseMove:m,onMouseLeave:p,onContextMenu:f,onDoubleClick:g,style:y,className:v,isDraggable:x,isSelectable:S,isConnectable:b,isFocusable:w,selectNodesOnDrag:E,sourcePosition:C,targetPosition:M,hidden:P,resizeObserver:A,dragHandle:k,zIndex:T,isParent:N,noDragClassName:D,noPanClassName:R,initialized:V,disableKeyboardA11y:I,ariaLabel:O,rfId:B,hasHandleBounds:L})=>{const $=F(),j=(0,o.useRef)(null),z=(0,o.useRef)(null),_=(0,o.useRef)(C),H=(0,o.useRef)(M),Y=(0,o.useRef)(n),U=S||x||u||h||m||p,W=xn(),X=fn(t,$.getState,h),K=fn(t,$.getState,m),Z=fn(t,$.getState,p),G=fn(t,$.getState,f),q=fn(t,$.getState,g);(0,o.useEffect)((()=>()=>{z.current&&(A?.unobserve(z.current),z.current=null)}),[]),(0,o.useEffect)((()=>{if(j.current&&!P){const e=j.current;V&&L&&z.current===e||(z.current&&A?.unobserve(z.current),A?.observe(e),z.current=e)}}),[P,V,L]),(0,o.useEffect)((()=>{const e=Y.current!==n,o=_.current!==C,i=H.current!==M;j.current&&(e||o||i)&&(e&&(Y.current=n),o&&(_.current=C),i&&(H.current=M),$.getState().updateNodeDimensions([{id:t,nodeElement:j.current,forceUpdate:!0}]))}),[t,n,C,M]);const Q=vn({nodeRef:j,disabled:P||!x,noDragClassName:D,handleSelector:k,nodeId:t,isSelectable:S,selectNodesOnDrag:E});return P?null:o.createElement("div",{className:(0,i.A)(["react-flow__node",`react-flow__node-${n}`,{[R]:x},v,{selected:d,selectable:S,parent:N,dragging:Q}]),ref:j,style:{zIndex:T,transform:`translate(${l}px,${c}px)`,pointerEvents:U?"all":"none",visibility:V?"visible":"hidden",...y},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:X,onMouseMove:K,onMouseLeave:Z,onContextMenu:G,onClick:e=>{const{nodeDragThreshold:n}=$.getState();if(S&&(!E||!x||n>0)&&gn({id:t,store:$,nodeRef:j}),u){const n=$.getState().nodeInternals.get(t);n&&u(e,{...n})}},onDoubleClick:q,onKeyDown:w?e=>{if(!ae(e)&&!I)if(se.includes(e.key)&&S){const n="Escape"===e.key;gn({id:t,store:$,unselect:n,nodeRef:j})}else x&&d&&Object.prototype.hasOwnProperty.call(Sn,e.key)&&($.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~r}, y: ${~~a}`}),W({x:Sn[e.key].x,y:Sn[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":I?void 0:`${Ct}-${B}`,"aria-label":O},o.createElement(Be,{value:t},o.createElement(e,{id:t,data:s,type:n,xPos:r,yPos:a,selected:d,isConnectable:b,sourcePosition:C,targetPosition:M,dragging:Q,dragHandle:k,zIndex:T})))};return t.displayName="NodeWrapper",(0,o.memo)(t)};const wn=e=>{const t=e.getNodes().filter((e=>e.selected));return{..._e(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};var En=(0,o.memo)((function({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const s=F(),{width:r,height:a,x:l,y:c,transformString:d,userSelectionActive:u}=$(wn,m.x),h=xn(),p=(0,o.useRef)(null);if((0,o.useEffect)((()=>{n||p.current?.focus({preventScroll:!0})}),[n]),vn({nodeRef:p}),u||!r||!a)return null;const f=e?t=>{const n=s.getState().getNodes().filter((e=>e.selected));e(t,n)}:void 0;return o.createElement("div",{className:(0,i.A)(["react-flow__nodesselection","react-flow__container",t]),style:{transform:d}},o.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(Sn,e.key)&&h({x:Sn[e.key].x,y:Sn[e.key].y,isShiftPressed:e.shiftKey})},style:{width:r,height:a,top:c,left:l}}))}));const Cn=e=>e.nodesSelectionActive,Mn=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:s,onPaneContextMenu:r,onPaneScroll:a,deleteKeyCode:l,onMove:c,onMoveStart:d,onMoveEnd:u,selectionKeyCode:h,selectionOnDrag:m,selectionMode:p,onSelectionStart:f,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:v,zoomActivationKeyCode:x,elementsSelectable:S,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:E,panOnScrollSpeed:C,panOnScrollMode:M,zoomOnDoubleClick:P,panOnDrag:A,defaultViewport:k,translateExtent:T,minZoom:N,maxZoom:D,preventScrolling:R,onSelectionContextMenu:V,noWheelClassName:I,noPanClassName:O,disableKeyboardA11y:B})=>{const L=$(Cn),j=Tt(h),z=Tt(v),_=z||A,H=z||E,Y=j||m&&!0!==_;return(({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=F(),{deleteElements:i}=Ht(),s=Tt(e,Yt),r=Tt(t);(0,o.useEffect)((()=>{if(s){const{edges:e,getNodes:t}=n.getState(),o=t().filter((e=>e.selected)),s=e.filter((e=>e.selected));i({nodes:o,edges:s}),n.setState({nodesSelectionActive:!1})}}),[s]),(0,o.useEffect)((()=>{n.setState({multiSelectionActive:r})}),[r])})({deleteKeyCode:l,multiSelectionKeyCode:y}),o.createElement(qt,{onMove:c,onMoveStart:d,onMoveEnd:u,onPaneContextMenu:r,elementsSelectable:S,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:H,panOnScrollSpeed:C,panOnScrollMode:M,zoomOnDoubleClick:P,panOnDrag:!j&&_,defaultViewport:k,translateExtent:T,minZoom:N,maxZoom:D,zoomActivationKeyCode:x,preventScrolling:R,noWheelClassName:I,noPanClassName:O},o.createElement(ln,{onSelectionStart:f,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:i,onPaneMouseLeave:s,onPaneContextMenu:r,onPaneScroll:a,panOnDrag:_,isSelecting:!!Y,selectionMode:p},e,L&&o.createElement(En,{onSelectionContextMenu:V,noPanClassName:O,disableKeyboardA11y:B})))};Mn.displayName="FlowRenderer";var Pn=(0,o.memo)(Mn);function An(e){return{...{input:bn(e.input||lt),default:bn(e.default||rt),output:bn(e.output||dt),group:bn(e.group||ut)},...Object.keys(e).filter((e=>!["input","default","output","group"].includes(e))).reduce(((t,n)=>(t[n]=bn(e[n]||rt),t)),{})}}const kn=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Tn=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:i,elementsSelectable:s,updateNodeDimensions:r,onError:a}=$(kn,m.x),l=(c=e.onlyRenderVisibleElements,$((0,o.useCallback)((e=>c?He(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()),[c])));var c;const d=(0,o.useRef)(),u=(0,o.useMemo)((()=>{if("undefined"==typeof ResizeObserver)return null;const e=new ResizeObserver((e=>{const t=e.map((e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})));r(t)}));return d.current=e,e}),[]);return(0,o.useEffect)((()=>()=>{d?.current?.disconnect()}),[]),o.createElement("div",{className:"react-flow__nodes",style:Ut},l.map((r=>{let l=r.type||"default";e.nodeTypes[l]||(a?.("003",k(l)),l="default");const c=e.nodeTypes[l]||e.nodeTypes.default,d=!!(r.draggable||t&&void 0===r.draggable),h=!!(r.selectable||s&&void 0===r.selectable),m=!!(r.connectable||n&&void 0===r.connectable),p=!!(r.focusable||i&&void 0===r.focusable),f=e.nodeExtent?W(r.positionAbsolute,e.nodeExtent):r.positionAbsolute,g=f?.x??0,y=f?.y??0,v=(({x:e,y:t,width:n,height:o,origin:i})=>n&&o?i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-o*i[1]}:{x:e,y:t})({x:g,y:y,width:r.width??0,height:r.height??0,origin:e.nodeOrigin});return o.createElement(c,{key:r.id,id:r.id,className:r.className,style:r.style,type:l,data:r.data,sourcePosition:r.sourcePosition||Se.Bottom,targetPosition:r.targetPosition||Se.Top,hidden:r.hidden,xPos:g,yPos:y,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!r.selected,isDraggable:d,isSelectable:h,isConnectable:m,isFocusable:p,resizeObserver:u,dragHandle:r.dragHandle,zIndex:r[ie]?.z??0,isParent:!!r[ie]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!r.width&&!!r.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:r.ariaLabel,hasHandleBounds:!!r[ie]?.handleBounds})})))};Tn.displayName="NodeRenderer";var Nn=(0,o.memo)(Tn);const Dn=(e,t,n)=>n===Se.Left?e-t:n===Se.Right?e+t:e,Rn=(e,t,n)=>n===Se.Top?e-t:n===Se.Bottom?e+t:e,Vn="react-flow__edgeupdater",In=({position:e,centerX:t,centerY:n,radius:s=10,onMouseDown:r,onMouseEnter:a,onMouseOut:l,type:c})=>o.createElement("circle",{onMouseDown:r,onMouseEnter:a,onMouseOut:l,className:(0,i.A)([Vn,`${Vn}-${c}`]),cx:Dn(t,s,e),cy:Rn(n,s,e),r:s,stroke:"transparent",fill:"transparent"}),On=()=>!0;var Bn=e=>{const t=({id:t,className:n,type:s,data:r,onClick:a,onEdgeDoubleClick:l,selected:c,animated:d,label:u,labelStyle:h,labelShowBg:m,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:g,style:y,source:v,target:x,sourceX:S,sourceY:b,targetX:w,targetY:E,sourcePosition:C,targetPosition:M,elementsSelectable:P,hidden:A,sourceHandleId:k,targetHandleId:T,onContextMenu:N,onMouseEnter:D,onMouseMove:R,onMouseLeave:V,reconnectRadius:I,onReconnect:O,onReconnectStart:B,onReconnectEnd:L,markerEnd:$,markerStart:j,rfId:z,ariaLabel:_,isFocusable:H,isReconnectable:Y,pathOptions:U,interactionWidth:W,disableKeyboardA11y:X})=>{const K=(0,o.useRef)(null),[Z,G]=(0,o.useState)(!1),[q,Q]=(0,o.useState)(!1),J=F(),ee=(0,o.useMemo)((()=>`url('#${$e(j,z)}')`),[j,z]),te=(0,o.useMemo)((()=>`url('#${$e($,z)}')`),[$,z]);if(A)return null;const ne=he(t,J.getState,l),oe=he(t,J.getState,N),ie=he(t,J.getState,D),re=he(t,J.getState,R),ae=he(t,J.getState,V),le=(e,n)=>{if(0!==e.button)return;const{edges:o,isValidConnection:i}=J.getState(),s=n?x:v,r=(n?T:k)||null,a=n?"target":"source",l=i||On,c=n,d=o.find((e=>e.id===t));Q(!0),B?.(e,d,a);et({event:e,handleId:r,nodeId:s,onConnect:e=>O?.(d,e),isTarget:c,getState:J.getState,setState:J.setState,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:e=>{Q(!1),L?.(e,d,a)}})},ce=()=>G(!0),de=()=>G(!1),ue=!P&&!a;return o.createElement("g",{className:(0,i.A)(["react-flow__edge",`react-flow__edge-${s}`,n,{selected:c,animated:d,inactive:ue,updating:Z}]),onClick:e=>{const{edges:n,addSelectedEdges:o,unselectNodesAndEdges:i,multiSelectionActive:s}=J.getState(),r=n.find((e=>e.id===t));r&&(P&&(J.setState({nodesSelectionActive:!1}),r.selected&&s?(i({nodes:[],edges:[r]}),K.current?.blur()):o([t])),a&&a(e,r))},onDoubleClick:ne,onContextMenu:oe,onMouseEnter:ie,onMouseMove:re,onMouseLeave:ae,onKeyDown:H?e=>{if(!X&&se.includes(e.key)&&P){const{unselectNodesAndEdges:n,addSelectedEdges:o,edges:i}=J.getState();"Escape"===e.key?(K.current?.blur(),n({edges:[i.find((e=>e.id===t))]})):o([t])}}:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${t}`,"aria-label":null===_?void 0:_||`Edge from ${v} to ${x}`,"aria-describedby":H?`${Mt}-${z}`:void 0,ref:K},!q&&o.createElement(e,{id:t,source:v,target:x,selected:c,animated:d,label:u,labelStyle:h,labelShowBg:m,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:g,data:r,style:y,sourceX:S,sourceY:b,targetX:w,targetY:E,sourcePosition:C,targetPosition:M,sourceHandleId:k,targetHandleId:T,markerStart:ee,markerEnd:te,pathOptions:U,interactionWidth:W}),Y&&o.createElement(o.Fragment,null,("source"===Y||!0===Y)&&o.createElement(In,{position:C,centerX:S,centerY:b,radius:I,onMouseDown:e=>le(e,!0),onMouseEnter:ce,onMouseOut:de,type:"source"}),("target"===Y||!0===Y)&&o.createElement(In,{position:M,centerX:w,centerY:E,radius:I,onMouseDown:e=>le(e,!1),onMouseEnter:ce,onMouseOut:de,type:"target"})))};return t.displayName="EdgeWrapper",(0,o.memo)(t)};function Ln(e){return{...{default:Bn(e.default||Ie),straight:Bn(e.bezier||Ne),step:Bn(e.step||Te),smoothstep:Bn(e.step||ke),simplebezier:Bn(e.simplebezier||Ee)},...Object.keys(e).filter((e=>!["default","bezier"].includes(e))).reduce(((t,n)=>(t[n]=Bn(e[n]||Ie),t)),{})}}function $n(e,t,n=null){const o=(n?.x||0)+t.x,i=(n?.y||0)+t.y,s=n?.width||t.width,r=n?.height||t.height;switch(e){case Se.Top:return{x:o+s/2,y:i};case Se.Right:return{x:o+s,y:i+r/2};case Se.Bottom:return{x:o+s/2,y:i+r};case Se.Left:return{x:o,y:i+r/2}}}function Fn(e,t){return e?1!==e.length&&t?t&&e.find((e=>e.id===t))||null:e[0]:null}function jn(e){const t=e?.[ie]?.handleBounds||null,n=t&&e?.width&&e?.height&&void 0!==e?.positionAbsolute?.x&&void 0!==e?.positionAbsolute?.y;return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const zn=[{level:0,isMaxLevel:!0,edges:[]}];function _n(e,t,n){return function(e,t,n=!1){let o=-1;const i=e.reduce(((e,i)=>{const s=oe(i.zIndex);let r=s?i.zIndex:0;if(n){const e=t.get(i.target),n=t.get(i.source),o=i.selected||e?.selected||n?.selected,a=Math.max(n?.[ie]?.z||0,e?.[ie]?.z||0,1e3);r=(s?i.zIndex:0)+(o?a:0)}return e[r]?e[r].push(i):e[r]=[i],o=r>o?r:o,e}),{}),s=Object.entries(i).map((([e,t])=>{const n=+e;return{edges:t,level:n,isMaxLevel:n===o}}));return 0===s.length?zn:s}($((0,o.useCallback)((n=>e?n.edges.filter((e=>{const o=t.get(e.source),i=t.get(e.target);return o?.width&&o?.height&&i?.width&&i?.height&&function({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:i,targetHeight:s,width:r,height:a,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+o,t.y+s)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const d=q({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:r/l[2],height:a/l[2]}),u=Math.max(0,Math.min(d.x2,c.x2)-Math.max(d.x,c.x)),h=Math.max(0,Math.min(d.y2,c.y2)-Math.max(d.y,c.y));return Math.ceil(u*h)>0}({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:i.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:i.width,targetHeight:i.height,width:n.width,height:n.height,transform:n.transform})})):n.edges),[e,t])),t,n)}const Hn={[xe.Arrow]:({color:e="none",strokeWidth:t=1})=>o.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[xe.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>o.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})};const Yn=({id:e,type:t,color:n,width:i=12.5,height:s=12.5,markerUnits:r="strokeWidth",strokeWidth:a,orient:l="auto-start-reverse"})=>{const c=function(e){const t=F();return(0,o.useMemo)((()=>Object.prototype.hasOwnProperty.call(Hn,e)?Hn[e]:(t.getState().onError?.("009",R(e)),null)),[e])}(t);return c?o.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:r,orient:l,refX:"0",refY:"0"},o.createElement(c,{color:n,strokeWidth:a})):null},Un=({defaultColor:e,rfId:t})=>{const n=$((0,o.useCallback)((({defaultColor:e,rfId:t})=>n=>{const o=[];return n.edges.reduce(((n,i)=>([i.markerStart,i.markerEnd].forEach((i=>{if(i&&"object"==typeof i){const s=$e(i,t);o.includes(s)||(n.push({id:s,color:i.color||e,...i}),o.push(s))}})),n)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))})({defaultColor:e,rfId:t}),[e,t]),((e,t)=>!(e.length!==t.length||e.some(((e,n)=>e.id!==t[n].id)))));return o.createElement("defs",null,n.map((e=>o.createElement(Yn,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient}))))};Un.displayName="MarkerDefinitions";var Wn=(0,o.memo)(Un);const Xn=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Kn=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:s,edgeTypes:r,noPanClassName:a,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:u,onEdgeClick:h,onEdgeDoubleClick:p,onReconnect:f,onReconnectStart:g,onReconnectEnd:y,reconnectRadius:v,children:x,disableKeyboardA11y:S})=>{const{edgesFocusable:b,edgesUpdatable:w,elementsSelectable:E,width:C,height:M,connectionMode:P,nodeInternals:A,onError:k}=$(Xn,m.x),T=_n(t,A,n);return C?o.createElement(o.Fragment,null,T.map((({level:t,edges:n,isMaxLevel:m})=>o.createElement("svg",{key:t,style:{zIndex:t},width:C,height:M,className:"react-flow__edges react-flow__container"},m&&o.createElement(Wn,{defaultColor:e,rfId:s}),o.createElement("g",null,n.map((e=>{const[t,n,m]=jn(A.get(e.source)),[x,C,M]=jn(A.get(e.target));if(!m||!M)return null;let T=e.type||"default";r[T]||(k?.("011",O(T)),T="default");const N=r[T]||r.default,D=P===fe.Strict?C.target:(C.target??[]).concat(C.source??[]),R=Fn(n.source,e.sourceHandle),I=Fn(D,e.targetHandle),B=R?.position||Se.Bottom,L=I?.position||Se.Top,$=!!(e.focusable||b&&void 0===e.focusable),F=e.reconnectable||e.updatable,j=void 0!==f&&(F||w&&void 0===F);if(!R||!I)return k?.("008",V(R,e)),null;const{sourceX:z,sourceY:_,targetX:H,targetY:Y}=((e,t,n,o,i,s)=>{const r=$n(n,e,t),a=$n(s,o,i);return{sourceX:r.x,sourceY:r.y,targetX:a.x,targetY:a.y}})(t,R,B,x,I,L);return o.createElement(N,{key:e.id,id:e.id,className:(0,i.A)([e.className,a]),type:T,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:z,sourceY:_,targetX:H,targetY:Y,sourcePosition:B,targetPosition:L,elementsSelectable:E,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:u,onClick:h,onEdgeDoubleClick:p,onReconnect:f,onReconnectStart:g,onReconnectEnd:y,reconnectRadius:v,rfId:s,ariaLabel:e.ariaLabel,isFocusable:$,isReconnectable:j,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:S})})))))),x):null};Kn.displayName="EdgeRenderer";var Zn=(0,o.memo)(Kn);const Gn=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function qn({children:e}){const t=$(Gn);return o.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}const Qn={[Se.Left]:Se.Right,[Se.Right]:Se.Left,[Se.Top]:Se.Bottom,[Se.Bottom]:Se.Top},Jn=({nodeId:e,handleType:t,style:n,type:i=ve.Bezier,CustomComponent:s,connectionStatus:r})=>{const{fromNode:a,handleId:l,toX:c,toY:d,connectionMode:u}=$((0,o.useCallback)((t=>({fromNode:t.nodeInternals.get(e),handleId:t.connectionHandleId,toX:(t.connectionPosition.x-t.transform[0])/t.transform[2],toY:(t.connectionPosition.y-t.transform[1])/t.transform[2],connectionMode:t.connectionMode})),[e]),m.x),h=a?.[ie]?.handleBounds;let p=h?.[t];if(u===fe.Loose&&(p=p||h?.["source"===t?"target":"source"]),!a||!p)return null;const f=l?p.find((e=>e.id===l)):p[0],g=f?f.x+f.width/2:(a.width??0)/2,y=f?f.y+f.height/2:a.height??0,v=(a.positionAbsolute?.x??0)+g,x=(a.positionAbsolute?.y??0)+y,S=f?.position,b=S?Qn[S]:null;if(!S||!b)return null;if(s)return o.createElement(s,{connectionLineType:i,connectionLineStyle:n,fromNode:a,fromHandle:f,fromX:v,fromY:x,toX:c,toY:d,fromPosition:S,toPosition:b,connectionStatus:r});let w="";const E={sourceX:v,sourceY:x,sourcePosition:S,targetX:c,targetY:d,targetPosition:b};return i===ve.Bezier?[w]=Ve(E):i===ve.Step?[w]=Ae({...E,borderRadius:0}):i===ve.SmoothStep?[w]=Ae(E):i===ve.SimpleBezier?[w]=we(E):w=`M${v},${x} ${c},${d}`,o.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};Jn.displayName="ConnectionLine";const eo=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function to({containerStyle:e,style:t,type:n,component:s}){const{nodeId:r,handleType:a,nodesConnectable:l,width:c,height:d,connectionStatus:u}=$(eo,m.x);return!!(r&&a&&c&&l)?o.createElement("svg",{style:e,width:c,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},o.createElement("g",{className:(0,i.A)(["react-flow__connection",u])},o.createElement(Jn,{nodeId:r,handleType:a,style:t,type:n,CustomComponent:s,connectionStatus:u}))):null}function no(e,t){(0,o.useRef)(null),F();return(0,o.useMemo)((()=>t(e)),[e])}const oo=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:i,onMoveEnd:s,onInit:r,onNodeClick:a,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:d,onNodeMouseEnter:u,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:p,onSelectionContextMenu:f,onSelectionStart:g,onSelectionEnd:y,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:S,connectionLineContainerStyle:b,selectionKeyCode:w,selectionOnDrag:E,selectionMode:C,multiSelectionKeyCode:M,panActivationKeyCode:P,zoomActivationKeyCode:A,deleteKeyCode:k,onlyRenderVisibleElements:T,elementsSelectable:N,selectNodesOnDrag:D,defaultViewport:R,translateExtent:V,minZoom:I,maxZoom:O,preventScrolling:B,defaultMarkerColor:L,zoomOnScroll:$,zoomOnPinch:F,panOnScroll:j,panOnScrollSpeed:z,panOnScrollMode:_,zoomOnDoubleClick:H,panOnDrag:Y,onPaneClick:U,onPaneMouseEnter:W,onPaneMouseMove:X,onPaneMouseLeave:K,onPaneScroll:Z,onPaneContextMenu:G,onEdgeContextMenu:q,onEdgeMouseEnter:Q,onEdgeMouseMove:J,onEdgeMouseLeave:ee,onReconnect:te,onReconnectStart:ne,onReconnectEnd:oe,reconnectRadius:ie,noDragClassName:se,noWheelClassName:re,noPanClassName:ae,elevateEdgesOnSelect:le,disableKeyboardA11y:ce,nodeOrigin:de,nodeExtent:ue,rfId:he})=>{const me=no(e,An),pe=no(t,Ln);return function(e){const t=Ht(),n=(0,o.useRef)(!1);(0,o.useEffect)((()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout((()=>e(t)),1),n.current=!0)}),[e,t.viewportInitialized])}(r),o.createElement(Pn,{onPaneClick:U,onPaneMouseEnter:W,onPaneMouseMove:X,onPaneMouseLeave:K,onPaneContextMenu:G,onPaneScroll:Z,deleteKeyCode:k,selectionKeyCode:w,selectionOnDrag:E,selectionMode:C,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:M,panActivationKeyCode:P,zoomActivationKeyCode:A,elementsSelectable:N,onMove:n,onMoveStart:i,onMoveEnd:s,zoomOnScroll:$,zoomOnPinch:F,zoomOnDoubleClick:H,panOnScroll:j,panOnScrollSpeed:z,panOnScrollMode:_,panOnDrag:Y,defaultViewport:R,translateExtent:V,minZoom:I,maxZoom:O,onSelectionContextMenu:f,preventScrolling:B,noDragClassName:se,noWheelClassName:re,noPanClassName:ae,disableKeyboardA11y:ce},o.createElement(qn,null,o.createElement(Zn,{edgeTypes:pe,onEdgeClick:l,onEdgeDoubleClick:d,onlyRenderVisibleElements:T,onEdgeContextMenu:q,onEdgeMouseEnter:Q,onEdgeMouseMove:J,onEdgeMouseLeave:ee,onReconnect:te,onReconnectStart:ne,onReconnectEnd:oe,reconnectRadius:ie,defaultMarkerColor:L,noPanClassName:ae,elevateEdgesOnSelect:!!le,disableKeyboardA11y:ce,rfId:he},o.createElement(to,{style:x,type:v,component:S,containerStyle:b})),o.createElement("div",{className:"react-flow__edgelabel-renderer"}),o.createElement(Nn,{nodeTypes:me,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:h,onNodeMouseLeave:m,onNodeContextMenu:p,selectNodesOnDrag:D,onlyRenderVisibleElements:T,noPanClassName:ae,noDragClassName:se,disableKeyboardA11y:ce,nodeOrigin:de,nodeExtent:ue,rfId:he})))};oo.displayName="GraphView";var io=(0,o.memo)(oo);const so=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],ro={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:so,nodeExtent:so,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:fe.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:re,isValidConnection:void 0},ao=()=>{return e=(e,t)=>({...ro,setNodes:n=>{const{nodeInternals:o,nodeOrigin:i,elevateNodesOnSelect:s}=t();e({nodeInternals:It(n,o,i,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:o={}}=t();e({edges:n.map((e=>({...o,...e})))})},setDefaultNodesAndEdges:(n,o)=>{const i=void 0!==n,s=void 0!==o,r=i?It(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:r,edges:s?o:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:o,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:r,fitViewOnInitOptions:a,domNode:l,nodeOrigin:c}=t(),d=l?.querySelector(".react-flow__viewport");if(!d)return;const u=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(u.transform),m=n.reduce(((e,t)=>{const n=i.get(t.id);if(n?.hidden)i.set(n.id,{...n,[ie]:{...n[ie],handleBounds:void 0}});else if(n){const o=Y(t.nodeElement);o.width&&o.height&&(n.width!==o.width||n.height!==o.height||t.forceUpdate)&&(i.set(n.id,{...n,[ie]:{...n[ie],handleBounds:{source:pn(".source",t.nodeElement,h,c),target:pn(".target",t.nodeElement,h,c)}},...o}),e.push({id:n.id,type:"dimensions",dimensions:o}))}return e}),[]);Vt(i,c);const p=r||s&&!r&&Ot(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:p}),m?.length>0&&o?.(m)},updateNodePositions:(e,n=!0,o=!1)=>{const{triggerNodeChanges:i}=t();i(e.map((e=>{const t={id:e.id,type:"position",dragging:o};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t})))},triggerNodeChanges:n=>{const{onNodesChange:o,nodeInternals:i,hasDefaultNodes:s,nodeOrigin:r,getNodes:a,elevateNodesOnSelect:l}=t();if(n?.length){if(s){const t=It(nn(n,a()),i,r,l);e({nodeInternals:t})}o?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:o,edges:i,getNodes:s}=t();let r,a=null;o?r=n.map((e=>on(e,!0))):(r=sn(s(),n),a=sn(i,[])),$t({changedNodes:r,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:o,edges:i,getNodes:s}=t();let r,a=null;o?r=n.map((e=>on(e,!0))):(r=sn(i,n),a=sn(s(),[])),$t({changedNodes:a,changedEdges:r,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:o}={})=>{const{edges:i,getNodes:s}=t(),r=o||i;$t({changedNodes:(n||s()).map((e=>(e.selected=!1,on(e.id,!1)))),changedEdges:r.map((e=>on(e.id,!1))),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:o,maxZoom:i}=t();o?.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:o,minZoom:i}=t();o?.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:o}=t();$t({changedNodes:o().filter((e=>e.selected)).map((e=>on(e.id,!1))),changedEdges:n.filter((e=>e.selected)).map((e=>on(e.id,!1))),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:o}=t();o.forEach((e=>{e.positionAbsolute=W(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(o)})},panBy:e=>{const{transform:n,width:o,height:i,d3Zoom:s,d3Selection:r,translateExtent:a}=t();if(!s||!r||!e.x&&!e.y)return!1;const l=p.GS.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[o,i]],d=s?.constrain()(l,c,a);return s.transform(r,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>e({connectionNodeId:ro.connectionNodeId,connectionHandleId:ro.connectionHandleId,connectionHandleType:ro.connectionHandleType,connectionStatus:ro.connectionStatus,connectionStartHandle:ro.connectionStartHandle,connectionEndHandle:ro.connectionEndHandle}),reset:()=>e({...ro})}),t=Object.is,e?h(e,t):h;var e,t},lo=({children:e})=>{const t=(0,o.useRef)(null);return t.current||(t.current=ao()),o.createElement(A,{value:t.current},e)};lo.displayName="ReactFlowProvider";const co=({children:e})=>(0,o.useContext)(P)?o.createElement(o.Fragment,null,e):o.createElement(lo,null,e);co.displayName="ReactFlowWrapper";const uo={input:lt,default:rt,output:dt,group:ut},ho={default:Ie,straight:Ne,step:Te,smoothstep:ke,simplebezier:Ee},mo=[0,0],po=[15,15],fo={x:0,y:0,zoom:1},go={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},yo=(0,o.forwardRef)((({nodes:e,edges:t,defaultNodes:n,defaultEdges:s,className:r,nodeTypes:a=uo,edgeTypes:l=ho,onNodeClick:c,onEdgeClick:d,onInit:u,onMove:h,onMoveStart:m,onMoveEnd:p,onConnect:f,onConnectStart:g,onConnectEnd:y,onClickConnectStart:v,onClickConnectEnd:x,onNodeMouseEnter:S,onNodeMouseMove:b,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:C,onNodeDragStart:M,onNodeDrag:P,onNodeDragStop:A,onNodesDelete:k,onEdgesDelete:T,onSelectionChange:N,onSelectionDragStart:D,onSelectionDrag:R,onSelectionDragStop:V,onSelectionContextMenu:I,onSelectionStart:O,onSelectionEnd:B,connectionMode:L=fe.Strict,connectionLineType:$=ve.Bezier,connectionLineStyle:F,connectionLineComponent:j,connectionLineContainerStyle:z,deleteKeyCode:H="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:U=!1,selectionMode:W=ye.Full,panActivationKeyCode:X="Space",multiSelectionKeyCode:K=(de()?"Meta":"Control"),zoomActivationKeyCode:Z=(de()?"Meta":"Control"),snapToGrid:G=!1,snapGrid:q=po,onlyRenderVisibleElements:Q=!1,selectNodesOnDrag:J=!0,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,nodeOrigin:oe=mo,edgesFocusable:ie,edgesUpdatable:se,elementsSelectable:re,defaultViewport:ae=fo,minZoom:le=.5,maxZoom:ce=2,translateExtent:ue=so,preventScrolling:he=!0,nodeExtent:me,defaultMarkerColor:pe="#b1b1b7",zoomOnScroll:xe=!0,zoomOnPinch:Se=!0,panOnScroll:be=!1,panOnScrollSpeed:we=.5,panOnScrollMode:Ee=ge.Free,zoomOnDoubleClick:Ce=!0,panOnDrag:Me=!0,onPaneClick:Pe,onPaneMouseEnter:Ae,onPaneMouseMove:ke,onPaneMouseLeave:Te,onPaneScroll:Ne,onPaneContextMenu:De,children:Re,onEdgeContextMenu:Ve,onEdgeDoubleClick:Ie,onEdgeMouseEnter:Oe,onEdgeMouseMove:Be,onEdgeMouseLeave:Le,onEdgeUpdate:$e,onEdgeUpdateStart:Fe,onEdgeUpdateEnd:je,onReconnect:ze,onReconnectStart:_e,onReconnectEnd:He,reconnectRadius:Ye=10,edgeUpdaterRadius:Ue=10,onNodesChange:We,onEdgesChange:Xe,noDragClassName:Ke="nodrag",noWheelClassName:Ze="nowheel",noPanClassName:Ge="nopan",fitView:qe=!1,fitViewOptions:Qe,connectOnClick:Je=!0,attributionPosition:et,proOptions:tt,defaultEdgeOptions:nt,elevateNodesOnSelect:ot=!0,elevateEdgesOnSelect:it=!1,disableKeyboardA11y:st=!1,autoPanOnConnect:rt=!0,autoPanOnNodeDrag:at=!0,connectionRadius:lt=20,isValidConnection:ct,onError:dt,style:ut,id:ht,nodeDragThreshold:mt,...pt},ft)=>{const gt=ht||"1";return o.createElement("div",{...pt,style:{...ut,...go},ref:ft,className:(0,i.A)(["react-flow",r]),"data-testid":"rf__wrapper",id:ht},o.createElement(co,null,o.createElement(io,{onInit:u,onMove:h,onMoveStart:m,onMoveEnd:p,onNodeClick:c,onEdgeClick:d,onNodeMouseEnter:S,onNodeMouseMove:b,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:C,nodeTypes:a,edgeTypes:l,connectionLineType:$,connectionLineStyle:F,connectionLineComponent:j,connectionLineContainerStyle:z,selectionKeyCode:Y,selectionOnDrag:U,selectionMode:W,deleteKeyCode:H,multiSelectionKeyCode:K,panActivationKeyCode:X,zoomActivationKeyCode:Z,onlyRenderVisibleElements:Q,selectNodesOnDrag:J,defaultViewport:ae,translateExtent:ue,minZoom:le,maxZoom:ce,preventScrolling:he,zoomOnScroll:xe,zoomOnPinch:Se,zoomOnDoubleClick:Ce,panOnScroll:be,panOnScrollSpeed:we,panOnScrollMode:Ee,panOnDrag:Me,onPaneClick:Pe,onPaneMouseEnter:Ae,onPaneMouseMove:ke,onPaneMouseLeave:Te,onPaneScroll:Ne,onPaneContextMenu:De,onSelectionContextMenu:I,onSelectionStart:O,onSelectionEnd:B,onEdgeContextMenu:Ve,onEdgeDoubleClick:Ie,onEdgeMouseEnter:Oe,onEdgeMouseMove:Be,onEdgeMouseLeave:Le,onReconnect:ze??$e,onReconnectStart:_e??Fe,onReconnectEnd:He??je,reconnectRadius:Ye??Ue,defaultMarkerColor:pe,noDragClassName:Ke,noWheelClassName:Ze,noPanClassName:Ge,elevateEdgesOnSelect:it,rfId:gt,disableKeyboardA11y:st,nodeOrigin:oe,nodeExtent:me}),o.createElement(bt,{nodes:e,edges:t,defaultNodes:n,defaultEdges:s,onConnect:f,onConnectStart:g,onConnectEnd:y,onClickConnectStart:v,onClickConnectEnd:x,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,edgesFocusable:ie,edgesUpdatable:se,elementsSelectable:re,elevateNodesOnSelect:ot,minZoom:le,maxZoom:ce,nodeExtent:me,onNodesChange:We,onEdgesChange:Xe,snapToGrid:G,snapGrid:q,connectionMode:L,translateExtent:ue,connectOnClick:Je,defaultEdgeOptions:nt,fitView:qe,fitViewOptions:Qe,onNodesDelete:k,onEdgesDelete:T,onNodeDragStart:M,onNodeDrag:P,onNodeDragStop:A,onSelectionDrag:R,onSelectionDragStart:D,onSelectionDragStop:V,noPanClassName:Ge,nodeOrigin:oe,rfId:gt,autoPanOnConnect:rt,autoPanOnNodeDrag:at,onError:dt,connectionRadius:lt,isValidConnection:ct,nodeDragThreshold:mt}),o.createElement(yt,{onSelectionChange:N}),Re,o.createElement(_,{proOptions:tt,position:et}),o.createElement(kt,{rfId:gt,disableKeyboardA11y:st})))}));yo.displayName="ReactFlow";function vo(e){return t=>{const[n,i]=(0,o.useState)(t),s=(0,o.useCallback)((t=>i((n=>e(t,n)))),[]);return[n,i,s]}}const xo=vo(nn),So=vo((function(e,t){return tn(e,t)}))},6536:(e,t,n)=>{n.d(t,{o:()=>v});var o=n(758),i=n(6516),s=n(919),r=n(9707),a=n(1670),l=n(731),c=n(3545);const d=({id:e,x:t,y:n,width:s,height:r,style:a,color:l,strokeColor:c,strokeWidth:d,className:u,borderRadius:h,shapeRendering:m,onClick:p,selected:f})=>{const{background:g,backgroundColor:y}=a||{},v=l||g||y;return o.createElement("rect",{className:(0,i.A)(["react-flow__minimap-node",{selected:f},u]),x:t,y:n,rx:h,ry:h,width:s,height:r,fill:v,stroke:c,strokeWidth:d,shapeRendering:m,onClick:p?t=>p(t,e):void 0})};d.displayName="MiniMapNode";var u=(0,o.memo)(d);const h=e=>e.nodeOrigin,m=e=>e.getNodes().filter((e=>!e.hidden&&e.width&&e.height)),p=e=>e instanceof Function?e:()=>e;var f=(0,o.memo)((function({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:i=5,nodeStrokeWidth:r=2,nodeComponent:a=u,onClick:l}){const d=(0,c.Pj)(m,s.x),f=(0,c.Pj)(h),g=p(t),y=p(e),v=p(n),x="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return o.createElement(o.Fragment,null,d.map((e=>{const{x:t,y:n}=(0,c.Cz)(e,f).positionAbsolute;return o.createElement(a,{key:e.id,x:t,y:n,width:e.width,height:e.height,style:e.style,selected:e.selected,className:v(e),color:g(e),borderRadius:i,strokeColor:y(e),strokeWidth:r,shapeRendering:x,onClick:l,id:e.id})})))}));const g=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(0,c.Mi)((0,c.Jo)(t,e.nodeOrigin),n):n,rfId:e.rfId}};function y({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:d="#e2e2e2",nodeClassName:u="",nodeBorderRadius:h=5,nodeStrokeWidth:m=2,nodeComponent:p,maskColor:y="rgb(240, 240, 240, 0.6)",maskStrokeColor:v="none",maskStrokeWidth:x=1,position:S="bottom-right",onClick:b,onNodeClick:w,pannable:E=!1,zoomable:C=!1,ariaLabel:M="React Flow mini map",inversePan:P=!1,zoomStep:A=10,offsetScale:k=5}){const T=(0,c.PI)(),N=(0,o.useRef)(null),{boundingRect:D,viewBB:R,rfId:V}=(0,c.Pj)(g,s.x),I=e?.width??200,O=e?.height??150,B=D.width/I,L=D.height/O,$=Math.max(B,L),F=$*I,j=$*O,z=k*$,_=D.x-(F-D.width)/2-z,H=D.y-(j-D.height)/2-z,Y=F+2*z,U=j+2*z,W=`react-flow__minimap-desc-${V}`,X=(0,o.useRef)(0);X.current=$,(0,o.useEffect)((()=>{if(N.current){const e=(0,a.A)(N.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:o}=T.getState();if("wheel"!==e.sourceEvent.type||!n||!o)return;const i=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*A,s=t[2]*Math.pow(2,i);o.scaleTo(n,s)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:o,translateExtent:i,width:s,height:a}=T.getState();if("mousemove"!==e.sourceEvent.type||!n||!o)return;const l=X.current*Math.max(1,t[2])*(P?-1:1),c={x:t[0]-e.sourceEvent.movementX*l,y:t[1]-e.sourceEvent.movementY*l},d=[[0,0],[s,a]],u=r.GS.translate(c.x,c.y).scale(t[2]),h=o.constrain()(u,d,i);o.transform(n,h)},o=(0,r.s_)().on("zoom",E?n:null).on("zoom.wheel",C?t:null);return e.call(o),()=>{e.on("zoom",null)}}}),[E,C,P,A]);const K=b?e=>{const t=(0,l.A)(e);b(e,{x:t[0],y:t[1]})}:void 0,Z=w?(e,t)=>{const n=T.getState().nodeInternals.get(t);w(e,n)}:void 0;return o.createElement(c.Zk,{position:S,style:e,className:(0,i.A)(["react-flow__minimap",t]),"data-testid":"rf__minimap"},o.createElement("svg",{width:I,height:O,viewBox:`${_} ${H} ${Y} ${U}`,role:"img","aria-labelledby":W,ref:N,onClick:K},M&&o.createElement("title",{id:W},M),o.createElement(f,{onClick:Z,nodeColor:d,nodeStrokeColor:n,nodeBorderRadius:h,nodeClassName:u,nodeStrokeWidth:m,nodeComponent:p}),o.createElement("path",{className:"react-flow__minimap-mask",d:`M${_-z},${H-z}h${Y+2*z}v${U+2*z}h${-Y-2*z}z\n        M${R.x},${R.y}h${R.width}v${R.height}h${-R.width}z`,fill:y,fillRule:"evenodd",stroke:v,strokeWidth:x,pointerEvents:"none"})))}y.displayName="MiniMap";var v=(0,o.memo)(y)},6516:(e,t,n)=>{function o(e){if("string"==typeof e||"number"==typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,i=0;i<e.length;i++)""!==(n=o(e[i]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}n.d(t,{A:()=>o})},7797:(e,t,n)=>{n.d(t,{N:()=>y});var o=n(6070),i=n(758),s=n(2757),r=n(7389),a=n(5347),l=n(9154);class c extends i.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){const n=(0,i.useId)(),s=(0,i.useRef)(null),r=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:a}=(0,i.useContext)(l.Q);return(0,i.useInsertionEffect)((()=>{const{width:e,height:o,top:i,left:l}=r.current;if(t||!s.current||!e||!o)return;s.current.dataset.motionPopId=n;const c=document.createElement("style");return a&&(c.nonce=a),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${o}px !important;\n            top: ${i}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[t]),(0,o.jsx)(c,{isPresent:t,childRef:s,sizeRef:r,children:i.cloneElement(e,{ref:s})})}const u=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:l,presenceAffectsLayout:c,mode:u})=>{const m=(0,r.M)(h),p=(0,i.useId)(),f=(0,i.useCallback)((e=>{m.set(e,!0);for(const t of m.values())if(!t)return;s&&s()}),[m,s]),g=(0,i.useMemo)((()=>({id:p,initial:t,isPresent:n,custom:l,onExitComplete:f,register:e=>(m.set(e,!1),()=>m.delete(e))})),c?[Math.random(),f]:[n,f]);return(0,i.useMemo)((()=>{m.forEach(((e,t)=>m.set(t,!1)))}),[n]),i.useEffect((()=>{!n&&!m.size&&s&&s()}),[n]),"popLayout"===u&&(e=(0,o.jsx)(d,{isPresent:n,children:e})),(0,o.jsx)(a.t.Provider,{value:g,children:e})};function h(){return new Map}var m=n(7628);const p=e=>e.key||"";function f(e){const t=[];return i.Children.forEach(e,(e=>{(0,i.isValidElement)(e)&&t.push(e)})),t}var g=n(6580);const y=({children:e,custom:t,initial:n=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:c="sync",propagate:d=!1})=>{const[h,y]=(0,m.xQ)(d),v=(0,i.useMemo)((()=>f(e)),[e]),x=d&&!h?[]:v.map(p),S=(0,i.useRef)(!0),b=(0,i.useRef)(v),w=(0,r.M)((()=>new Map)),[E,C]=(0,i.useState)(v),[M,P]=(0,i.useState)(v);(0,g.E)((()=>{S.current=!1,b.current=v;for(let e=0;e<M.length;e++){const t=p(M[e]);x.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}}),[M,x.length,x.join("-")]);const A=[];if(v!==E){let e=[...v];for(let t=0;t<M.length;t++){const n=M[t],o=p(n);x.includes(o)||(e.splice(t,0,n),A.push(n))}return"wait"===c&&A.length&&(e=A),P(f(e)),void C(v)}const{forceRender:k}=(0,i.useContext)(s.L);return(0,o.jsx)(o.Fragment,{children:M.map((e=>{const i=p(e),s=!(d&&!h)&&(v===M||x.includes(i));return(0,o.jsx)(u,{isPresent:s,initial:!(S.current&&!n)&&void 0,custom:s?void 0:t,presenceAffectsLayout:l,mode:c,onExitComplete:s?void 0:()=>{if(!w.has(i))return;w.set(i,!0);let e=!0;w.forEach((t=>{t||(e=!1)})),e&&(null==k||k(),P(b.current),d&&(null==y||y()),a&&a())},children:e},i)}))})}},7628:(e,t,n)=>{n.d(t,{xQ:()=>s});var o=n(758),i=n(5347);function s(e=!0){const t=(0,o.useContext)(i.t);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,a=(0,o.useId)();(0,o.useEffect)((()=>{e&&r(a)}),[e]);const l=(0,o.useCallback)((()=>e&&s&&s(a)),[a,s,e]);return!n&&s?[!1,l]:[!0]}},2757:(e,t,n)=>{n.d(t,{L:()=>o});const o=(0,n(758).createContext)({})},9154:(e,t,n)=>{n.d(t,{Q:()=>o});const o=(0,n(758).createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"})},5347:(e,t,n)=>{n.d(t,{t:()=>o});const o=(0,n(758).createContext)(null)},3563:(e,t,n)=>{function o(e){if("undefined"==typeof Proxy)return e;const t=new Map;return new Proxy(((...t)=>e(...t)),{get:(n,o)=>"create"===o?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}function i(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}n.d(t,{P:()=>ta});const s=e=>Array.isArray(e);function r(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function a(e){return"string"==typeof e||Array.isArray(e)}function l(e){const t=[{},{}];return null==e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function c(e,t,n,o){if("function"==typeof t){const[i,s]=l(o);t=t(void 0!==n?n:e.custom,i,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,s]=l(o);t=t(void 0!==n?n:e.custom,i,s)}return t}function d(e,t,n){const o=e.getProps();return c(o,t,void 0!==n?n:o.custom,e)}const u=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h=["initial",...u];function m(e){let t;return()=>(void 0===t&&(t=e()),t)}const p=m((()=>void 0!==window.ScrollTimeline));class f{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map((e=>"finished"in e?e.finished:e)))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map((n=>p()&&n.attachTimeline?n.attachTimeline(e):"function"==typeof t?t(n):void 0));return()=>{n.forEach(((e,t)=>{e&&e(),this.animations[t].stop()}))}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach((t=>t[e]()))}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class g extends f{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function y(e,t){return e?e[t]||e.default||e:void 0}const v=2e4;function x(e){let t=0;let n=e.next(t);for(;!n.done&&t<v;)t+=50,n=e.next(t);return t>=v?1/0:t}function S(e){return"function"==typeof e}function b(e,t){e.timeline=t,e.onfinish=null}const w=e=>Array.isArray(e)&&"number"==typeof e[0],E={linearEasing:void 0};function C(e,t){const n=m(e);return()=>{var e;return null!==(e=E[t])&&void 0!==e?e:n()}}const M=C((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),"linearEasing"),P=(e,t,n)=>{const o=t-e;return 0===o?1:(n-e)/o},A=(e,t,n=10)=>{let o="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)o+=e(P(0,i-1,s))+", ";return`linear(${o.substring(0,o.length-2)})`};function k(e){return Boolean("function"==typeof e&&M()||!e||"string"==typeof e&&(e in N||M())||w(e)||Array.isArray(e)&&e.every(k))}const T=([e,t,n,o])=>`cubic-bezier(${e}, ${t}, ${n}, ${o})`,N={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:T([0,.65,.55,1]),circOut:T([.55,0,1,.45]),backIn:T([.31,.01,.66,-.59]),backOut:T([.33,1.53,.69,.99])};function D(e,t){return e?"function"==typeof e&&M()?A(e,t):w(e)?T(e):Array.isArray(e)?e.map((e=>D(e,t)||N.easeOut)):N[e]:void 0}const R={x:!1,y:!1};function V(){return R.x||R.y}function I(e,t){const n=function(e,t,n){var o;if(e instanceof Element)return[e];if("string"==typeof e){let i=document;t&&(i=t.current);const s=null!==(o=null==n?void 0:n[e])&&void 0!==o?o:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}(e),o=new AbortController;return[n,{passive:!0,...t,signal:o.signal},()=>o.abort()]}function O(e){return t=>{"touch"===t.pointerType||V()||e(t)}}const B=(e,t)=>!!t&&(e===t||B(e,t.parentElement)),L=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const F=new WeakSet;function j(e){return t=>{"Enter"===t.key&&e(t)}}function z(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function _(e){return L(e)&&!V()}function H(e,t,n={}){const[o,i,s]=I(e,n),r=e=>{const o=e.currentTarget;if(!_(e)||F.has(o))return;F.add(o);const s=t(e),r=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),_(e)&&F.has(o)&&(F.delete(o),"function"==typeof s&&s(e,{success:t}))},a=e=>{r(e,n.useGlobalTarget||B(o,e.target))},l=e=>{r(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return o.forEach((e=>{(function(e){return $.has(e.tagName)||-1!==e.tabIndex})(e)||null!==e.getAttribute("tabindex")||(e.tabIndex=0);(n.useGlobalTarget?window:e).addEventListener("pointerdown",r,i),e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const o=j((()=>{if(F.has(n))return;z(n,"down");const e=j((()=>{z(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>z(n,"cancel")),t)}));n.addEventListener("keydown",o,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",o)),t)})(e,i)),i)})),s}const Y=e=>1e3*e,U=e=>e/1e3,W=e=>e;const X=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],K=new Set(X),Z=new Set(["width","height","top","left","right","bottom",...X]),G=!1,q=!1;const Q=["read","resolveKeyframes","update","preRender","render","postRender"];function J(e,t){let n=!1,o=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,r=Q.reduce(((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,o=!1,i=!1;const s=new WeakSet;let r={delta:0,timestamp:0,isProcessing:!1};function a(t){s.has(t)&&(l.schedule(t),e()),t(r)}const l={schedule:(e,i=!1,r=!1)=>{const a=r&&o?t:n;return i&&s.add(e),a.has(e)||a.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{r=e,o?i=!0:(o=!0,[t,n]=[n,t],t.forEach(a),t.clear(),o=!1,i&&(i=!1,l.process(e)))}};return l}(s),e)),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:u,postRender:h}=r,m=()=>{const s=q?i.timestamp:performance.now();n=!1,i.delta=o?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),u.process(i),h.process(i),i.isProcessing=!1,n&&t&&(o=!1,e(m))};return{schedule:Q.reduce(((t,s)=>{const a=r[s];return t[s]=(t,s=!1,r=!1)=>(n||(n=!0,o=!0,i.isProcessing||e(m)),a.schedule(t,s,r)),t}),{}),cancel:e=>{for(let t=0;t<Q.length;t++)r[Q[t]].cancel(e)},state:i,steps:r}}const{schedule:ee,cancel:te,state:ne,steps:oe}=J("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:W,!0);let ie;function se(){ie=void 0}const re={now:()=>(void 0===ie&&re.set(ne.isProcessing||q?ne.timestamp:performance.now()),ie),set:e=>{ie=e,queueMicrotask(se)}};function ae(e,t){-1===e.indexOf(t)&&e.push(t)}function le(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class ce{constructor(){this.subscriptions=[]}add(e){return ae(this.subscriptions,e),()=>le(this.subscriptions,e)}notify(e,t,n){const o=this.subscriptions.length;if(o)if(1===o)this.subscriptions[0](e,t,n);else for(let i=0;i<o;i++){const o=this.subscriptions[i];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function de(e,t){return t?e*(1e3/t):0}const ue={current:void 0};class he{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(e,t=!0)=>{const n=re.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=re.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ce);const n=this.events[e].add(t);return"change"===e?()=>{n(),ee.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ue.current&&ue.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=re.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return de(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function me(e,t){return new he(e,t)}function pe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,me(n))}const fe=e=>Boolean(e&&e.getVelocity);function ge(e,t){const n=e.getValue("willChange");if(o=n,Boolean(fe(o)&&o.add))return n.add(t);var o}const ye=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ve="data-"+ye("framerAppearId");function xe(e){return e.props[ve]}const Se=!1,be=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function we(e,t,n,o){if(e===t&&n===o)return W;const i=t=>function(e,t,n,o,i){let s,r,a=0;do{r=t+(n-t)/2,s=be(r,o,i)-e,s>0?n=r:t=r}while(Math.abs(s)>1e-7&&++a<12);return r}(t,0,1,e,n);return e=>0===e||1===e?e:be(i(e),t,o)}const Ee=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ce=e=>t=>1-e(1-t),Me=we(.33,1.53,.69,.99),Pe=Ce(Me),Ae=Ee(Pe),ke=e=>(e*=2)<1?.5*Pe(e):.5*(2-Math.pow(2,-10*(e-1))),Te=e=>1-Math.sin(Math.acos(e)),Ne=Ce(Te),De=Ee(Te),Re=e=>/^0[^.\s]+$/u.test(e);const Ve=(e,t,n)=>n>t?t:n<e?e:n,Ie={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Oe={...Ie,transform:e=>Ve(0,1,e)},Be={...Ie,default:1},Le=e=>Math.round(1e5*e)/1e5,$e=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Fe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,je=(e,t)=>n=>Boolean("string"==typeof n&&Fe.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),ze=(e,t,n)=>o=>{if("string"!=typeof o)return o;const[i,s,r,a]=o.match($e);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(r),alpha:void 0!==a?parseFloat(a):1}},_e={...Ie,transform:e=>Math.round((e=>Ve(0,255,e))(e))},He={test:je("rgb","red"),parse:ze("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:o=1})=>"rgba("+_e.transform(e)+", "+_e.transform(t)+", "+_e.transform(n)+", "+Le(Oe.transform(o))+")"};const Ye={test:je("#"),parse:function(e){let t="",n="",o="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,o+=o,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:i?parseInt(i,16)/255:1}},transform:He.transform},Ue=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),We=Ue("deg"),Xe=Ue("%"),Ke=Ue("px"),Ze=Ue("vh"),Ge=Ue("vw"),qe={...Xe,parse:e=>Xe.parse(e)/100,transform:e=>Xe.transform(100*e)},Qe={test:je("hsl","hue"),parse:ze("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:o=1})=>"hsla("+Math.round(e)+", "+Xe.transform(Le(t))+", "+Xe.transform(Le(n))+", "+Le(Oe.transform(o))+")"},Je={test:e=>He.test(e)||Ye.test(e)||Qe.test(e),parse:e=>He.test(e)?He.parse(e):Qe.test(e)?Qe.parse(e):Ye.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?He.transform(e):Qe.transform(e)},et=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const tt="number",nt="color",ot=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function it(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},i=[];let s=0;const r=t.replace(ot,(e=>(Je.test(e)?(o.color.push(s),i.push(nt),n.push(Je.parse(e))):e.startsWith("var(")?(o.var.push(s),i.push("var"),n.push(e)):(o.number.push(s),i.push(tt),n.push(parseFloat(e))),++s,"${}"))).split("${}");return{values:n,split:r,indexes:o,types:i}}function st(e){return it(e).values}function rt(e){const{split:t,types:n}=it(e),o=t.length;return e=>{let i="";for(let s=0;s<o;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===tt?Le(e[s]):t===nt?Je.transform(e[s]):e[s]}return i}}const at=e=>"number"==typeof e?0:e;const lt={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null===(t=e.match($e))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(et))||void 0===n?void 0:n.length)||0)>0},parse:st,createTransformer:rt,getAnimatableNone:function(e){const t=st(e);return rt(e)(t.map(at))}},ct=new Set(["brightness","contrast","saturate","opacity"]);function dt(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[o]=n.match($e)||[];if(!o)return e;const i=n.replace(o,"");let s=ct.has(t)?1:0;return o!==n&&(s*=100),t+"("+s+i+")"}const ut=/\b([a-z-]*)\(.*?\)/gu,ht={...lt,getAnimatableNone:e=>{const t=e.match(ut);return t?t.map(dt).join(" "):e}},mt={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke},pt={rotate:We,rotateX:We,rotateY:We,rotateZ:We,scale:Be,scaleX:Be,scaleY:Be,scaleZ:Be,skew:We,skewX:We,skewY:We,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:Oe,originX:qe,originY:qe,originZ:Ke},ft={...Ie,transform:Math.round},gt={...mt,...pt,zIndex:ft,size:Ke,fillOpacity:Oe,strokeOpacity:Oe,numOctaves:ft},yt={...gt,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:ht,WebkitFilter:ht},vt=e=>yt[e];function xt(e,t){let n=vt(e);return n!==ht&&(n=lt),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const St=new Set(["auto","none","0"]);const bt=e=>e===Ie||e===Ke,wt=(e,t)=>parseFloat(e.split(", ")[t]),Et=(e,t)=>(n,{transform:o})=>{if("none"===o||!o)return 0;const i=o.match(/^matrix3d\((.+)\)$/u);if(i)return wt(i[1],t);{const t=o.match(/^matrix\((.+)\)$/u);return t?wt(t[1],e):0}},Ct=new Set(["x","y","z"]),Mt=X.filter((e=>!Ct.has(e)));const Pt={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Et(4,13),y:Et(5,14)};Pt.translateX=Pt.x,Pt.translateY=Pt.y;const At=new Set;let kt=!1,Tt=!1;function Nt(){if(Tt){const e=Array.from(At).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return Mt.forEach((n=>{const o=e.getValue(n);void 0!==o&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((([t,n])=>{var o;null===(o=e.getValue(t))||void 0===o||o.set(n)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Tt=!1,kt=!1,At.forEach((e=>e.complete())),At.clear()}function Dt(){At.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Tt=!0)}))}class Rt{constructor(e,t,n,o,i,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=o,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(At.add(this),kt||(kt=!0,ee.read(Dt),ee.resolveKeyframes(Nt))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:o}=this;for(let i=0;i<e.length;i++)if(null===e[i])if(0===i){const i=null==o?void 0:o.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const o=n.readValue(t,s);null!=o&&(e[0]=o)}void 0===e[0]&&(e[0]=s),o&&void 0===i&&o.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),At.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,At.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}let Vt=W,It=W;const Ot=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Bt=e=>t=>"string"==typeof t&&t.startsWith(e),Lt=Bt("--"),$t=Bt("var(--"),Ft=e=>!!$t(e)&&jt.test(e.split("/*")[0].trim()),jt=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zt=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _t(e,t,n=1){It(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);const[o,i]=function(e){const t=zt.exec(e);if(!t)return[,];const[,n,o,i]=t;return[`--${null!=n?n:o}`,i]}(e);if(!o)return;const s=window.getComputedStyle(t).getPropertyValue(o);if(s){const e=s.trim();return Ot(e)?parseFloat(e):e}return Ft(i)?_t(i,t,n+1):i}const Ht=e=>t=>t.test(e),Yt=[Ie,Ke,Xe,We,Ge,Ze,{test:e=>"auto"===e,parse:e=>e}],Ut=e=>Yt.find(Ht(e));class Wt extends Rt{constructor(e,t,n,o,i){super(e,t,n,o,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"==typeof n&&(n=n.trim(),Ft(n))){const o=_t(n,t.current);void 0!==o&&(e[a]=o),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Z.has(n)||2!==e.length)return;const[o,i]=e,s=Ut(o),r=Ut(i);if(s!==r)if(bt(s)&&bt(r))for(let a=0;a<e.length;a++){const t=e[a];"string"==typeof t&&(e[a]=parseFloat(t))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)("number"==typeof(o=e[i])?0===o:null===o||"none"===o||"0"===o||Re(o))&&n.push(i);var o;n.length&&function(e,t,n){let o,i=0;for(;i<e.length&&!o;){const t=e[i];"string"==typeof t&&!St.has(t)&&it(t).values.length&&(o=e[i]),i++}if(o&&n)for(const s of t)e[s]=xt(n,o)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];void 0!==o&&e.getValue(n,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=o.length-1,r=o[s];o[s]=Pt[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==r&&void 0===this.finalKeyframe&&(this.finalKeyframe=r),(null===(e=this.removedTransforms)||void 0===e?void 0:e.length)&&this.removedTransforms.forEach((([e,n])=>{t.getValue(e).set(n)})),this.resolveNoneKeyframes()}}const Xt=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!lt.test(e)&&"0"!==e||e.startsWith("url(")));function Kt(e,t,n,o){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],r=Xt(i,t),a=Xt(s,t);return Vt(r===a,`You are trying to animate ${t} from "${i}" to "${s}". ${i} is not an animatable value - to enable this animation set ${i} to a value animatable to ${s} via the \`style\` property.`),!(!r||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||S(n))&&o)}const Zt=e=>null!==e;function Gt(e,{repeat:t,repeatType:n="loop"},o){const i=e.filter(Zt),s=t&&"loop"!==n&&t%2==1?0:i.length-1;return s&&void 0!==o?o:i[s]}class qt{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:o=0,repeatDelay:i=0,repeatType:s="loop",...r}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=re.now(),this.options={autoplay:e,delay:t,type:n,repeat:o,repeatDelay:i,repeatType:s,...r},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt}get resolved(){return this._resolved||this.hasAttemptedResolve||(Dt(),Nt()),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=re.now(),this.hasAttemptedResolve=!0;const{name:n,type:o,velocity:i,delay:s,onComplete:r,onUpdate:a,isGenerator:l}=this.options;if(!l&&!Kt(e,n,o,i)){if(Se||!s)return a&&a(Gt(e,this.options,t)),r&&r(),void this.resolveFinishedPromise();this.options.duration=0}const c=this.initPlayback(e,t);!1!==c&&(this._resolved={keyframes:e,finalKeyframe:t,...c},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise((e=>{this.resolveFinishedPromise=e}))}}const Qt=(e,t,n)=>e+(t-e)*n;function Jt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function en(e,t){return n=>n>0?t:e}const tn=(e,t,n)=>{const o=e*e,i=n*(t*t-o)+o;return i<0?0:Math.sqrt(i)},nn=[Ye,He,Qe];function on(e){const t=(n=e,nn.find((e=>e.test(n))));var n;if(Vt(Boolean(t),`'${e}' is not an animatable color. Use the equivalent color code instead.`),!Boolean(t))return!1;let o=t.parse(e);return t===Qe&&(o=function({hue:e,saturation:t,lightness:n,alpha:o}){e/=360,n/=100;let i=0,s=0,r=0;if(t/=100){const o=n<.5?n*(1+t):n+t-n*t,a=2*n-o;i=Jt(a,o,e+1/3),s=Jt(a,o,e),r=Jt(a,o,e-1/3)}else i=s=r=n;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*r),alpha:o}}(o)),o}const sn=(e,t)=>{const n=on(e),o=on(t);if(!n||!o)return en(e,t);const i={...n};return e=>(i.red=tn(n.red,o.red,e),i.green=tn(n.green,o.green,e),i.blue=tn(n.blue,o.blue,e),i.alpha=Qt(n.alpha,o.alpha,e),He.transform(i))},rn=(e,t)=>n=>t(e(n)),an=(...e)=>e.reduce(rn),ln=new Set(["none","hidden"]);function cn(e,t){return n=>Qt(e,t,n)}function dn(e){return"number"==typeof e?cn:"string"==typeof e?Ft(e)?en:Je.test(e)?sn:mn:Array.isArray(e)?un:"object"==typeof e?Je.test(e)?sn:hn:en}function un(e,t){const n=[...e],o=n.length,i=e.map(((e,n)=>dn(e)(e,t[n])));return e=>{for(let t=0;t<o;t++)n[t]=i[t](e);return n}}function hn(e,t){const n={...e,...t},o={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(o[i]=dn(e[i])(e[i],t[i]));return e=>{for(const t in o)n[t]=o[t](e);return n}}const mn=(e,t)=>{const n=lt.createTransformer(t),o=it(e),i=it(t);return o.indexes.var.length===i.indexes.var.length&&o.indexes.color.length===i.indexes.color.length&&o.indexes.number.length>=i.indexes.number.length?ln.has(e)&&!i.values.length||ln.has(t)&&!o.values.length?function(e,t){return ln.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):an(un(function(e,t){var n;const o=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const r=t.types[s],a=e.indexes[r][i[r]],l=null!==(n=e.values[a])&&void 0!==n?n:0;o[s]=l,i[r]++}return o}(o,i),i.values),n):(Vt(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),en(e,t))};function pn(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Qt(e,t,n);return dn(e)(e,t)}function fn(e,t,n){const o=Math.max(t-5,0);return de(n-e(o),t-o)}const gn=100,yn=10,vn=1,xn=0,Sn=800,bn=.3,wn=.3,En={granular:.01,default:2},Cn={granular:.005,default:.5},Mn=.01,Pn=10,An=.05,kn=1,Tn=.001;function Nn({duration:e=Sn,bounce:t=bn,velocity:n=xn,mass:o=vn}){let i,s;Vt(e<=Y(Pn),"Spring duration must be 10 seconds or less");let r=1-t;r=Ve(An,kn,r),e=Ve(Mn,Pn,U(e)),r<1?(i=t=>{const o=t*r,i=o*e,s=o-n,a=Rn(t,r),l=Math.exp(-i);return Tn-s/a*l},s=t=>{const o=t*r*e,s=o*n+n,a=Math.pow(r,2)*Math.pow(t,2)*e,l=Math.exp(-o),c=Rn(Math.pow(t,2),r);return(-i(t)+Tn>0?-1:1)*((s-a)*l)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(n-t)));const a=function(e,t,n){let o=n;for(let i=1;i<Dn;i++)o-=e(o)/t(o);return o}(i,s,5/e);if(e=Y(e),isNaN(a))return{stiffness:gn,damping:yn,duration:e};{const t=Math.pow(a,2)*o;return{stiffness:t,damping:2*r*Math.sqrt(o*t),duration:e}}}const Dn=12;function Rn(e,t){return e*Math.sqrt(1-t*t)}const Vn=["duration","bounce"],In=["stiffness","damping","mass"];function On(e,t){return t.some((t=>void 0!==e[t]))}function Bn(e=wn,t=bn){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:o,restDelta:i}=n;const s=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=function(e){let t={velocity:xn,stiffness:gn,damping:yn,mass:vn,isResolvedFromDuration:!1,...e};if(!On(e,In)&&On(e,Vn))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(1.2*n),i=o*o,s=2*Ve(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:vn,stiffness:i,damping:s}}else{const n=Nn(e);t={...t,...n,mass:vn},t.isResolvedFromDuration=!0}return t}({...n,velocity:-U(n.velocity||0)}),p=h||0,f=c/(2*Math.sqrt(l*d)),g=r-s,y=U(Math.sqrt(l/d)),S=Math.abs(g)<5;let b;if(o||(o=S?En.granular:En.default),i||(i=S?Cn.granular:Cn.default),f<1){const e=Rn(y,f);b=t=>{const n=Math.exp(-f*y*t);return r-n*((p+f*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===f)b=e=>r-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(f*f-1);b=t=>{const n=Math.exp(-f*y*t),o=Math.min(e*t,300);return r-n*((p+f*y*g)*Math.sinh(o)+e*g*Math.cosh(o))/e}}const w={calculatedDuration:m&&u||null,next:e=>{const t=b(e);if(m)a.done=e>=u;else{let n=0;f<1&&(n=0===e?Y(p):fn(b,e,t));const s=Math.abs(n)<=o,l=Math.abs(r-t)<=i;a.done=s&&l}return a.value=a.done?r:t,a},toString:()=>{const e=Math.min(x(w),v),t=A((t=>w.next(e*t).value),e,30);return e+"ms "+t}};return w}function Ln({keyframes:e,velocity:t=0,power:n=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:r,min:a,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},m=e=>void 0===a?l:void 0===l||Math.abs(a-e)<Math.abs(l-e)?a:l;let p=n*t;const f=u+p,g=void 0===r?f:r(f);g!==f&&(p=g-u);const y=e=>-p*Math.exp(-e/o),v=e=>g+y(e),x=e=>{const t=y(e),n=v(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let S,b;const w=e=>{var t;(t=h.value,void 0!==a&&t<a||void 0!==l&&t>l)&&(S=e,b=Bn({keyframes:[h.value,m(h.value)],velocity:fn(v,e,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return b||void 0!==S||(t=!0,x(e),w(e)),void 0!==S&&e>=S?b.next(e-S):(!t&&x(e),h)}}}const $n=we(.42,0,1,1),Fn=we(0,0,.58,1),jn=we(.42,0,.58,1),zn={linear:W,easeIn:$n,easeInOut:jn,easeOut:Fn,circIn:Te,circInOut:De,circOut:Ne,backIn:Pe,backInOut:Ae,backOut:Me,anticipate:ke},_n=e=>{if(w(e)){It(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,o,i]=e;return we(t,n,o,i)}return"string"==typeof e?(It(void 0!==zn[e],`Invalid easing type '${e}'`),zn[e]):e};function Hn(e,t,{clamp:n=!0,ease:o,mixer:i}={}){const s=e.length;if(It(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const o=[],i=n||pn,s=e.length-1;for(let r=0;r<s;r++){let n=i(e[r],e[r+1]);if(t){const e=Array.isArray(t)?t[r]||W:t;n=an(e,n)}o.push(n)}return o}(t,o,i),l=a.length,c=n=>{if(r&&n<e[0])return t[0];let o=0;if(l>1)for(;o<e.length-2&&!(n<e[o+1]);o++);const i=P(e[o],e[o+1],n);return a[o](i)};return n?t=>c(Ve(e[0],e[s-1],t)):c}function Yn(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let o=1;o<=t;o++){const i=P(0,t,o);e.push(Qt(n,1,i))}}(t,e.length-1),t}function Un({duration:e=300,keyframes:t,times:n,ease:o="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(o)?o.map(_n):_n(o),s={done:!1,value:t[0]},r=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:Yn(t),e),a=Hn(r,t,{ease:Array.isArray(i)?i:(l=t,c=i,l.map((()=>c||jn)).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(s.value=a(t),s.done=t>=e,s)}}const Wn=e=>{const t=({timestamp:t})=>e(t);return{start:()=>ee.update(t,!0),stop:()=>te(t),now:()=>ne.isProcessing?ne.timestamp:re.now()}},Xn={decay:Ln,inertia:Ln,tween:Un,keyframes:Un,spring:Bn},Kn=e=>e/100;class Zn extends qt{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.teardown();const{onStop:e}=this.options;e&&e()};const{name:t,motionValue:n,element:o,keyframes:i}=this.options,s=(null==o?void 0:o.KeyframeResolver)||Rt;this.resolver=new s(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:i,velocity:s=0}=this.options,r=S(t)?t:Xn[t]||Un;let a,l;r!==Un&&"number"!=typeof e[0]&&(a=an(Kn,pn(e[0],e[1])),e=[0,100]);const c=r({...this.options,keyframes:e});"mirror"===i&&(l=r({...this.options,keyframes:[...e].reverse(),velocity:-s})),null===c.calculatedDuration&&(c.calculatedDuration=x(c));const{calculatedDuration:d}=c,u=d+o;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:a,calculatedDuration:d,resolvedDuration:u,totalDuration:u*(n+1)-o}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),"paused"!==this.pendingPlayState&&e?this.state=this.pendingPlayState:this.pause()}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:e}=this.options;return{done:!0,value:e[e.length-1]}}const{finalKeyframe:o,generator:i,mirroredGenerator:s,mapPercentToKeyframes:r,keyframes:a,calculatedDuration:l,totalDuration:c,resolvedDuration:d}=n;if(null===this.startTime)return i.next(0);const{delay:u,repeat:h,repeatType:m,repeatDelay:p,onUpdate:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),t?this.currentTime=e:null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const g=this.currentTime-u*(this.speed>=0?1:-1),y=this.speed>=0?g<0:g>c;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=c);let v=this.currentTime,x=i;if(h){const e=Math.min(this.currentTime,c)/d;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,h+1);Boolean(t%2)&&("reverse"===m?(n=1-n,p&&(n-=p/d)):"mirror"===m&&(x=s)),v=Ve(0,1,n)*d}const S=y?{done:!1,value:a[0]}:x.next(v);r&&(S.value=r(S.value));let{done:b}=S;y||null===l||(b=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&b);return w&&void 0!==o&&(S.value=Gt(a,this.options,o)),f&&f(S.value),w&&this.finish(),S}get duration(){const{resolved:e}=this;return e?U(e.calculatedDuration):0}get time(){return U(this.currentTime)}set time(e){e=Y(e),this.currentTime=e,null!==this.holdTime||0===this.speed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=U(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved)return void(this.pendingPlayState="running");if(this.isStopped)return;const{driver:e=Wn,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),t&&t();const o=this.driver.now();null!==this.holdTime?this.startTime=o-this.holdTime:this.startTime?"finished"===this.state&&(this.startTime=o):this.startTime=null!=n?n:this.calcStartTime(),"finished"===this.state&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;this._resolved?(this.state="paused",this.holdTime=null!==(e=this.currentTime)&&void 0!==e?e:0):this.pendingPlayState="paused"}complete(){"running"!==this.state&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){null!==this.cancelTime&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Gn=new Set(["opacity","clipPath","filter","transform"]);const qn=m((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const Qn={anticipate:ke,backInOut:Ae,circInOut:De};class Jn extends qt{constructor(e){super(e);const{name:t,motionValue:n,element:o,keyframes:i}=this.options;this.resolver=new Wt(i,((e,t)=>this.onKeyframesResolved(e,t)),t,n,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:o,ease:i,type:s,motionValue:r,name:a,startTime:l}=this.options;if(!r.owner||!r.owner.current)return!1;var c;if("string"==typeof i&&M()&&i in Qn&&(i=Qn[i]),S((c=this.options).type)||"spring"===c.type||!k(c.ease)){const{onComplete:t,onUpdate:r,motionValue:a,element:l,...c}=this.options,d=function(e,t){const n=new Zn({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let o={done:!1,value:e[0]};const i=[];let s=0;for(;!o.done&&s<2e4;)o=n.sample(s),i.push(o.value),s+=10;return{times:void 0,keyframes:i,duration:s-10,ease:"linear"}}(e,c);1===(e=d.keyframes).length&&(e[1]=e[0]),n=d.duration,o=d.times,i=d.ease,s="keyframes"}const d=function(e,t,n,{delay:o=0,duration:i=300,repeat:s=0,repeatType:r="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const d=D(a,i);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:o,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:"reverse"===r?"alternate":"normal"})}(r.owner.current,a,e,{...this.options,duration:n,times:o,ease:i});return d.startTime=null!=l?l:this.calcStartTime(),this.pendingTimeline?(b(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:n}=this.options;r.set(Gt(e,this.options,t)),n&&n(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:o,type:s,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return U(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return U(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Y(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(this._resolved){const{resolved:t}=this;if(!t)return W;const{animation:n}=t;b(n,e)}else this.pendingTimeline=e;return W}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;"finished"===t.playState&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,"idle"===this.state)return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:o,type:i,ease:s,times:r}=e;if("idle"===t.playState||"finished"===t.playState)return;if(this.time){const{motionValue:e,onUpdate:t,onComplete:a,element:l,...c}=this.options,d=new Zn({...c,keyframes:n,duration:o,type:i,ease:s,times:r,isGenerator:!0}),u=Y(this.time);e.setWithVelocity(d.sample(u-10).value,d.sample(u).value,10)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:o,repeatType:i,damping:s,type:r}=e;if(!(t&&t.owner&&t.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=t.owner.getProps();return qn()&&n&&Gn.has(n)&&!a&&!l&&!o&&"mirror"!==i&&0!==s&&"inertia"!==r}}const eo={type:"spring",stiffness:500,damping:25,restSpeed:10},to={type:"keyframes",duration:.8},no={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oo=(e,{keyframes:t})=>t.length>2?to:K.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:eo:no;const io=(e,t,n,o={},i,s)=>r=>{const a=y(o,e)||{},l=a.delay||o.delay||0;let{elapsed:c=0}=o;c-=Y(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};(function({when:e,delay:t,delayChildren:n,staggerChildren:o,staggerDirection:i,repeat:s,repeatType:r,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(a)||(d={...d,...oo(e,d)}),d.duration&&(d.duration=Y(d.duration)),d.repeatDelay&&(d.repeatDelay=Y(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(d.duration=0,0===d.delay&&(u=!0)),(Se||G)&&(u=!0,d.duration=0,d.delay=0),u&&!s&&void 0!==t.get()){const e=Gt(d.keyframes,a);if(void 0!==e)return ee.update((()=>{d.onUpdate(e),d.onComplete()})),new g([])}return!s&&Jn.supports(d)?new Jn(d):new Zn(d)};function so({protectedKeys:e,needsAnimating:t},n){const o=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,o}function ro(e,t,{delay:n=0,transitionOverride:o,type:i}={}){var r;let{transition:a=e.getDefaultTransition(),transitionEnd:l,...c}=t;o&&(a=o);const u=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const s in c){const t=e.getValue(s,null!==(r=e.latestValues[s])&&void 0!==r?r:null),o=c[s];if(void 0===o||h&&so(h,s))continue;const i={delay:n,...y(a||{},s)};let l=!1;if(window.MotionHandoffAnimation){const t=xe(e);if(t){const e=window.MotionHandoffAnimation(t,s,ee);null!==e&&(i.startTime=e,l=!0)}}ge(e,s),t.start(io(s,t,o,e.shouldReduceMotion&&Z.has(s)?{type:!1}:i,e,l));const d=t.animation;d&&u.push(d)}return l&&Promise.all(u).then((()=>{ee.update((()=>{l&&function(e,t){const n=d(e,t);let{transitionEnd:o={},transition:i={},...r}=n||{};r={...r,...o};for(const l in r)pe(e,l,(a=r[l],s(a)?a[a.length-1]||0:a));var a}(e,l)}))})),u}function ao(e,t,n={}){var o;const i=d(e,t,"exit"===n.type?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const r=i?()=>Promise.all(ro(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(o=0)=>{const{delayChildren:i=0,staggerChildren:r,staggerDirection:a}=s;return function(e,t,n=0,o=0,i=1,s){const r=[],a=(e.variantChildren.size-1)*o,l=1===i?(e=0)=>e*o:(e=0)=>a-e*o;return Array.from(e.variantChildren).sort(lo).forEach(((e,o)=>{e.notify("AnimationStart",t),r.push(ao(e,t,{...s,delay:n+l(o)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(r)}(e,t,i+o,r,a,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[r,a]:[a,r];return e().then((()=>t()))}return Promise.all([r(),a(n.delay)])}function lo(e,t){return e.sortNodePosition(t)}const co=h.length;function uo(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&uo(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<co;n++){const o=h[n],i=e.props[o];(a(i)||!1===i)&&(t[o]=i)}return t}const ho=[...u].reverse(),mo=u.length;function po(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let o;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>ao(e,t,n)));o=Promise.all(i)}else if("string"==typeof t)o=ao(e,t,n);else{const i="function"==typeof t?d(e,t,n.custom):t;o=Promise.all(ro(e,i,n))}return o.then((()=>{e.notify("AnimationComplete",t)}))}(e,t,n))))}function fo(e){let t=po(e),n=vo(),o=!0;const l=t=>(n,o)=>{var i;const s=d(e,o,"exit"===t?null===(i=e.presenceContext)||void 0===i?void 0:i.custom:void 0);if(s){const{transition:e,transitionEnd:t,...o}=s;n={...n,...o,...t}}return n};function c(c){const{props:d}=e,u=uo(e.parent)||{},h=[],m=new Set;let p={},f=1/0;for(let t=0;t<mo;t++){const g=ho[t],y=n[g],v=void 0!==d[g]?d[g]:u[g],x=a(v),S=g===c?y.isActive:null;!1===S&&(f=t);let b=v===u[g]&&v!==d[g]&&x;if(b&&o&&e.manuallyAnimateOnMount&&(b=!1),y.protectedKeys={...p},!y.isActive&&null===S||!v&&!y.prevProp||i(v)||"boolean"==typeof v)continue;const w=go(y.prevProp,v);let E=w||g===c&&y.isActive&&!b&&x||t>f&&x,C=!1;const M=Array.isArray(v)?v:[v];let P=M.reduce(l(g),{});!1===S&&(P={});const{prevResolvedValues:A={}}=y,k={...A,...P},T=t=>{E=!0,m.has(t)&&(C=!0,m.delete(t)),y.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in k){const t=P[e],n=A[e];if(p.hasOwnProperty(e))continue;let o=!1;o=s(t)&&s(n)?!r(t,n):t!==n,o?null!=t?T(e):m.add(e):void 0!==t&&m.has(e)?T(e):y.protectedKeys[e]=!0}y.prevProp=v,y.prevResolvedValues=P,y.isActive&&(p={...p,...P}),o&&e.blockInitialAnimation&&(E=!1);E&&(!(b&&w)||C)&&h.push(...M.map((e=>({animation:e,options:{type:g}}))))}if(m.size){const t={};m.forEach((n=>{const o=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=null!=o?o:null})),h.push({animation:t})}let g=Boolean(h.length);return!o||!1!==d.initial&&d.initial!==d.animate||e.manuallyAnimateOnMount||(g=!1),o=!1,g?t(h):Promise.resolve()}return{animateChanges:c,setActive:function(t,o){var i;if(n[t].isActive===o)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,o)})),n[t].isActive=o;const s=c(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=vo(),o=!0}}}function go(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!r(t,e)}function yo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vo(){return{animate:yo(!0),whileInView:yo(),whileHover:yo(),whileTap:yo(),whileDrag:yo(),whileFocus:yo(),exit:yo()}}class xo{constructor(e){this.isMounted=!1,this.node=e}update(){}}let So=0;const bo={animation:{Feature:class extends xo{constructor(e){super(e),e.animationState||(e.animationState=fo(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();i(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends xo{constructor(){super(...arguments),this.id=So++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}};function wo(e,t,n,o={passive:!0}){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n)}function Eo(e){return{point:{x:e.pageX,y:e.pageY}}}function Co(e,t,n,o){return wo(e,t,(e=>t=>L(t)&&e(t,Eo(t)))(n),o)}const Mo=(e,t)=>Math.abs(e-t);class Po{constructor(e,t,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=To(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Mo(e.x,t.x),o=Mo(e.y,t.y);return Math.sqrt(n**2+o**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:o}=e,{timestamp:i}=ne;this.history.push({...o,timestamp:i});const{onStart:s,onMove:r}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),r&&r(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Ao(t,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:o,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=To("pointercancel"===e.type?this.lastMoveEventInfo:Ao(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),o&&o(e,s)},!L(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=o||window;const s=Ao(Eo(e),this.transformPagePoint),{point:r}=s,{timestamp:a}=ne;this.history=[{...r,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,To(s,this.history)),this.removeListeners=an(Co(this.contextWindow,"pointermove",this.handlePointerMove),Co(this.contextWindow,"pointerup",this.handlePointerUp),Co(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),te(this.updatePoint)}}function Ao(e,t){return t?{point:t(e.point)}:e}function ko(e,t){return{x:e.x-t.x,y:e.y-t.y}}function To({point:e},t){return{point:e,delta:ko(e,Do(t)),offset:ko(e,No(t)),velocity:Ro(t,.1)}}function No(e){return e[0]}function Do(e){return e[e.length-1]}function Ro(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,o=null;const i=Do(e);for(;n>=0&&(o=e[n],!(i.timestamp-o.timestamp>Y(t)));)n--;if(!o)return{x:0,y:0};const s=U(i.timestamp-o.timestamp);if(0===s)return{x:0,y:0};const r={x:(i.x-o.x)/s,y:(i.y-o.y)/s};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function Vo(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Io(e){return e.max-e.min}function Oo(e,t,n,o=.5){e.origin=o,e.originPoint=Qt(t.min,t.max,e.origin),e.scale=Io(n)/Io(t),e.translate=Qt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Bo(e,t,n,o){Oo(e.x,t.x,n.x,o?o.originX:void 0),Oo(e.y,t.y,n.y,o?o.originY:void 0)}function Lo(e,t,n){e.min=n.min+t.min,e.max=e.min+Io(t)}function $o(e,t,n){e.min=t.min-n.min,e.max=e.min+Io(t)}function Fo(e,t,n){$o(e.x,t.x,n.x),$o(e.y,t.y,n.y)}function jo(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function zo(e,t){let n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,o]=[o,n]),{min:n,max:o}}const _o=.35;function Ho(e,t,n){return{min:Yo(e,t),max:Yo(e,n)}}function Yo(e,t){return"number"==typeof e?e:e[t]||0}const Uo=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Wo(e){return[e("x"),e("y")]}function Xo({top:e,left:t,right:n,bottom:o}){return{x:{min:t,max:n},y:{min:e,max:o}}}function Ko(e){return void 0===e||1===e}function Zo({scale:e,scaleX:t,scaleY:n}){return!Ko(e)||!Ko(t)||!Ko(n)}function Go(e){return Zo(e)||qo(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function qo(e){return Qo(e.x)||Qo(e.y)}function Qo(e){return e&&"0%"!==e}function Jo(e,t,n){return n+t*(e-n)}function ei(e,t,n,o,i){return void 0!==i&&(e=Jo(e,i,o)),Jo(e,n,o)+t}function ti(e,t=0,n=1,o,i){e.min=ei(e.min,t,n,o,i),e.max=ei(e.max,t,n,o,i)}function ni(e,{x:t,y:n}){ti(e.x,t.translate,t.scale,t.originPoint),ti(e.y,n.translate,n.scale,n.originPoint)}const oi=.999999999999,ii=1.0000000000001;function si(e,t){e.min=e.min+t,e.max=e.max+t}function ri(e,t,n,o,i=.5){ti(e,t,n,Qt(e.min,e.max,i),o)}function ai(e,t){ri(e.x,t.x,t.scaleX,t.scale,t.originX),ri(e.y,t.y,t.scaleY,t.scale,t.originY)}function li(e,t){return Xo(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),o=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:o.y,right:o.x}}(e.getBoundingClientRect(),t))}const ci=({current:e})=>e?e.ownerDocument.defaultView:null,di=new WeakMap;class ui{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:o}=this.getProps();this.panSession=new Po(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Eo(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:o,onDragStart:i}=this.getProps();if(n&&!o&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?R[s]?null:(R[s]=!0,()=>{R[s]=!1}):R.x||R.y?null:(R.x=R.y=!0,()=>{R.x=R.y=!1}),!this.openDragLock))return;var s;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wo((e=>{let t=this.getAxisMotionValue(e).get()||0;if(Xe.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const o=n.layout.layoutBox[e];if(o){t=Io(o)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&ee.postRender((()=>i(e,t))),ge(this.visualElement,"transform");const{animationState:r}=this.visualElement;r&&r.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:o,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:r}=t;if(o&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(r),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,r),this.updateAxis("y",t.point,r),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Wo((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,contextWindow:ci(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&ee.postRender((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:o}=this.getProps();if(!n||!hi(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},o){return void 0!==t&&e<t?e=o?Qt(t,e,o.min):Math.max(e,t):void 0!==n&&e>n&&(e=o?Qt(n,e,o.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Vo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!o)&&function(e,{top:t,left:n,bottom:o,right:i}){return{x:jo(e.x,n,i),y:jo(e.y,t,o)}}(o.layoutBox,t),this.elastic=function(e=_o){return!1===e?e=0:!0===e&&(e=_o),{x:Ho(e,"left","right"),y:Ho(e,"top","bottom")}}(n),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Wo((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(o.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Vo(e))return!1;const n=e.current;It(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=function(e,t,n){const o=li(e,n),{scroll:i}=t;return i&&(si(o.x,i.offset.x),si(o.y,i.offset.y)),o}(n,o.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:zo(e.x,t.x),y:zo(e.y,t.y)}}(o.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Xo(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:r}=this.getProps(),a=this.constraints||{},l=Wo((r=>{if(!hi(r,t,this.currentDirection))return;let l=a&&a[r]||{};s&&(l={min:0,max:0});const c=o?200:1e6,d=o?40:1e7,u={type:"inertia",velocity:n?e[r]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(r,u)}));return Promise.all(l).then(r)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return ge(this.visualElement,e),n.start(io(e,n,0,t,this.visualElement,!1))}stopAnimation(){Wo((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Wo((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),o=n[t];return o||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Wo((t=>{const{drag:n}=this.getProps();if(!hi(t,n,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(t);if(o&&o.layout){const{min:n,max:s}=o.layout.layoutBox[t];i.set(e[t]-Qt(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Vo(t)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Wo((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();o[e]=function(e,t){let n=.5;const o=Io(e),i=Io(t);return i>o?n=P(t.min,t.max-o,e.min):o>i&&(n=P(e.min,e.max-i,t.min)),Ve(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Wo((t=>{if(!hi(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(Qt(i,s,o[t]))}))}addListeners(){if(!this.visualElement.current)return;di.set(this.visualElement,this);const e=Co(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Vo(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,o=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ee.read(t);const i=wo(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Wo((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),e(),o(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=_o,dragMomentum:r=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:r}}}function hi(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const mi=e=>(t,n)=>{e&&ee.postRender((()=>e(t,n)))};var pi=n(6070),fi=n(758),gi=n(7628),yi=n(2757);const vi=(0,fi.createContext)({}),xi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Si(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bi={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Ke.test(e))return e;e=parseFloat(e)}return`${Si(e,t.target.x)}% ${Si(e,t.target.y)}%`}},wi={correct:(e,{treeScale:t,projectionDelta:n})=>{const o=e,i=lt.parse(e);if(i.length>5)return o;const s=lt.createTransformer(e),r="number"!=typeof i[0]?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+r]/=a,i[1+r]/=l;const c=Qt(a,l,.5);return"number"==typeof i[2+r]&&(i[2+r]/=c),"number"==typeof i[3+r]&&(i[3+r]/=c),s(i)}},Ei={};const{schedule:Ci,cancel:Mi}=J(queueMicrotask,!1);class Pi extends fi.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:o}=this.props,{projection:i}=e;var s;s=ki,Object.assign(Ei,s),i&&(t.group&&t.group.add(i),n&&n.register&&o&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),xi.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:o,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,o||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||ee.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ci.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ai(e){const[t,n]=(0,gi.xQ)(),o=(0,fi.useContext)(yi.L);return(0,pi.jsx)(Pi,{...e,layoutGroup:o,switchLayoutGroup:(0,fi.useContext)(vi),isPresent:t,safeToRemove:n})}const ki={borderRadius:{...bi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bi,borderTopRightRadius:bi,borderBottomLeftRadius:bi,borderBottomRightRadius:bi,boxShadow:wi};const Ti=(e,t)=>e.depth-t.depth;class Ni{constructor(){this.children=[],this.isDirty=!1}add(e){ae(this.children,e),this.isDirty=!0}remove(e){le(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ti),this.isDirty=!1,this.children.forEach(e)}}function Di(e,t){const n=re.now(),o=({timestamp:i})=>{const s=i-n;s>=t&&(te(o),e(s-t))};return ee.read(o,!0),()=>te(o)}function Ri(e){const t=fe(e)?e.get():e;return n=t,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const Vi=["TopLeft","TopRight","BottomLeft","BottomRight"],Ii=Vi.length,Oi=e=>"string"==typeof e?parseFloat(e):e,Bi=e=>"number"==typeof e||Ke.test(e);function Li(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const $i=ji(0,.5,Ne),Fi=ji(.5,.95,W);function ji(e,t,n){return o=>o<e?0:o>t?1:n(P(e,t,o))}function zi(e,t){e.min=t.min,e.max=t.max}function _i(e,t){zi(e.x,t.x),zi(e.y,t.y)}function Hi(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Yi(e,t,n,o,i){return e=Jo(e-=t,1/n,o),void 0!==i&&(e=Jo(e,1/i,o)),e}function Ui(e,t,[n,o,i],s,r){!function(e,t=0,n=1,o=.5,i,s=e,r=e){Xe.test(t)&&(t=parseFloat(t),t=Qt(r.min,r.max,t/100)-r.min);if("number"!=typeof t)return;let a=Qt(s.min,s.max,o);e===s&&(a-=t),e.min=Yi(e.min,t,n,a,i),e.max=Yi(e.max,t,n,a,i)}(e,t[n],t[o],t[i],t.scale,s,r)}const Wi=["x","scaleX","originX"],Xi=["y","scaleY","originY"];function Ki(e,t,n,o){Ui(e.x,t,Wi,n?n.x:void 0,o?o.x:void 0),Ui(e.y,t,Xi,n?n.y:void 0,o?o.y:void 0)}function Zi(e){return 0===e.translate&&1===e.scale}function Gi(e){return Zi(e.x)&&Zi(e.y)}function qi(e,t){return e.min===t.min&&e.max===t.max}function Qi(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ji(e,t){return Qi(e.x,t.x)&&Qi(e.y,t.y)}function es(e){return Io(e.x)/Io(e.y)}function ts(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ns{constructor(){this.members=[]}add(e){ae(this.members,e),e.scheduleRender()}remove(e){if(le(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let o=t;o>=0;o--){const e=this.members[o];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;!1===o&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const os={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},is="undefined"!=typeof window&&void 0!==window.MotionDebug,ss=["","X","Y","Z"],rs={visibility:"hidden"};let as=0;function ls(e,t,n,o){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),o&&(o[e]=0))}function cs(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=xe(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ee,!(t||o))}const{parent:o}=e;o&&!o.hasCheckedOptimisedAppear&&cs(o)}function ds({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:o,resetTransform:i}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=as++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,is&&(os.totalNodes=os.resolvedTargetDeltas=os.recalculatedProjection=0),this.nodes.forEach(ms),this.nodes.forEach(Ss),this.nodes.forEach(bs),this.nodes.forEach(ps),is&&window.MotionDebug.record(os)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ni)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ce),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;var o;this.isSVG=(o=t)instanceof SVGElement&&"svg"!==o.tagName,this.instance=t;const{layoutId:i,layout:s,visualElement:r}=this.options;if(r&&!r.current&&r.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),e){let n;const o=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=Di(o,250),xi.hasAnimatedSinceResize&&(xi.hasAnimatedSinceResize=!1,this.nodes.forEach(xs))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&r&&(i||s)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:o})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||r.getDefaultTransition()||As,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=r.getProps(),l=!this.targetLayout||!Ji(this.targetLayout,o)||n,c=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,c);const t={...y(i,"layout"),onPlay:s,onComplete:a};(r.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||xs(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,te(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ws),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cs(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const o=this.getTransformTemplate();this.prevTransformTemplateValue=o?o(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(gs);this.isUpdating||this.nodes.forEach(ys),this.isUpdating=!1,this.nodes.forEach(vs),this.nodes.forEach(us),this.nodes.forEach(hs),this.clearAllSnapshots();const e=re.now();ne.delta=Ve(0,1e3/60,e-ne.timestamp),ne.timestamp=e,ne.isProcessing=!0,oe.update.process(ne),oe.preRender.process(ne),oe.render.process(ne),ne.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ci.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fs),this.sharedNodes.forEach(Es)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Gi(this.projectionDelta),n=this.getTransformTemplate(),o=n?n(this.latestValues,""):void 0,s=o!==this.prevTransformTemplateValue;e&&(t||Go(this.latestValues)||s)&&(i(this.instance,o),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var o;return e&&(n=this.removeTransform(n)),Ns((o=n).x),Ns(o.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(Rs))){const{scroll:e}=this.root;e&&(si(n.x,e.offset.x),si(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(_i(n,e),null===(t=this.scroll)||void 0===t?void 0:t.wasRoot)return n;for(let o=0;o<this.path.length;o++){const t=this.path[o],{scroll:i,options:s}=t;t!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&_i(n,e),si(n.x,i.offset.x),si(n.y,i.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};_i(n,e);for(let o=0;o<this.path.length;o++){const e=this.path[o];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&ai(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Go(e.latestValues)&&ai(n,e.latestValues)}return Go(this.latestValues)&&ai(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};_i(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Go(e.latestValues))continue;Zo(e.latestValues)&&e.updateSnapshot();const o={x:{min:0,max:0},y:{min:0,max:0}};_i(o,e.measurePageBox()),Ki(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,o)}return Go(this.latestValues)&&Ki(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ne.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const o=Boolean(this.resumingFrom)||this!==n;if(!(e||o&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=ne.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Fo(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),_i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var r,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),r=this.target,a=this.relativeTarget,l=this.relativeParent.target,Lo(r.x,a.x,l.x),Lo(r.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):_i(this.target,this.layout.layoutBox),ni(this.target,this.targetDelta)):_i(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Fo(this.relativeTargetOrigin,this.target,e.target),_i(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}is&&os.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Zo(this.parent.latestValues)&&!qo(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let o=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(o=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(o=!1),this.resolvedRelativeTargetAt===ne.timestamp&&(o=!1),o)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;_i(this.layoutCorrected,this.layout.layoutBox);const r=this.treeScale.x,a=this.treeScale.y;!function(e,t,n,o=!1){const i=n.length;if(!i)return;let s,r;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],r=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(o&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ai(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,ni(e,r)),o&&Go(s.latestValues)&&ai(e,s.latestValues))}t.x<ii&&t.x>oi&&(t.x=1),t.y<ii&&t.y>oi&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(Hi(this.prevProjectionDelta.x,this.projectionDelta.x),Hi(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Bo(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===r&&this.treeScale.y===a&&ts(this.projectionDelta.x,this.prevProjectionDelta.x)&&ts(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),is&&os.recalculatedProjection++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null===(t=this.options.visualElement)||void 0===t||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,o=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const r={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(Ps));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,m,p,f,g;Cs(s.x,e.x,n),Cs(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fo(r,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,p=this.relativeTargetOrigin,f=r,g=n,Ms(m.x,p.x,f.x,g),Ms(m.y,p.y,f.y,g),u&&(l=this.relativeTarget,h=u,qi(l.x,h.x)&&qi(l.y,h.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),_i(u,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,o,i,s){i?(e.opacity=Qt(0,void 0!==n.opacity?n.opacity:1,$i(o)),e.opacityExit=Qt(void 0!==t.opacity?t.opacity:1,0,Fi(o))):s&&(e.opacity=Qt(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,o));for(let r=0;r<Ii;r++){const i=`border${Vi[r]}Radius`;let s=Li(t,i),a=Li(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||Bi(s)===Bi(a)?(e[i]=Math.max(Qt(Oi(s),Oi(a),o),0),(Xe.test(a)||Xe.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=Qt(t.rotate||0,n.rotate||0,o))}(i,o,this.latestValues,n,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(te(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update((()=>{xi.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const o=fe(e)?e:me(e);return o.start(io("",o,t,n)),o.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:o,latestValues:i}=e;if(t&&n&&o){if(this!==e&&this.layout&&o&&Ds(this.options.animationType,this.layout.layoutBox,o.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Io(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const o=Io(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+o}_i(t,n),ai(t,i),Bo(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ns);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const o=this.getStack();o&&o.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const o={};n.z&&ls("z",e,o,this.animationValues);for(let i=0;i<ss.length;i++)ls(`rotate${ss[i]}`,e,o,this.animationValues),ls(`skew${ss[i]}`,e,o,this.animationValues);e.render();for(const i in o)e.setStaticValue(i,o[i]),this.animationValues&&(this.animationValues[i]=o[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rs;const o={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=Ri(null==e?void 0:e.pointerEvents)||"",o.transform=i?i(this.latestValues,""):"none",o;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Ri(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!Go(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const r=s.animationValues||s.latestValues;this.applyTransformsToTarget(),o.transform=function(e,t,n){let o="";const i=e.x.translate/t.x,s=e.y.translate/t.y,r=(null==n?void 0:n.z)||0;if((i||s||r)&&(o=`translate3d(${i}px, ${s}px, ${r}px) `),1===t.x&&1===t.y||(o+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:r,skewY:a}=n;e&&(o=`perspective(${e}px) ${o}`),t&&(o+=`rotate(${t}deg) `),i&&(o+=`rotateX(${i}deg) `),s&&(o+=`rotateY(${s}deg) `),r&&(o+=`skewX(${r}deg) `),a&&(o+=`skewY(${a}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(o+=`scale(${a}, ${l})`),o||"none"}(this.projectionDeltaWithTransform,this.treeScale,r),i&&(o.transform=i(r,o.transform));const{x:a,y:l}=this.projectionDelta;o.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,s.animationValues?o.opacity=s===this?null!==(n=null!==(t=r.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:o.opacity=s===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(const c in Ei){if(void 0===r[c])continue;const{correct:e,applyTo:t}=Ei[c],n="none"===o.transform?r[c]:e(r[c],s);if(t){const e=t.length;for(let i=0;i<e;i++)o[t[i]]=n}else o[c]=n}return this.options.layoutId&&(o.pointerEvents=s===this?Ri(null==e?void 0:e.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(gs),this.root.sharedNodes.clear()}}}function us(e){e.updateLayout()}function hs(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?Wo((e=>{const o=s?n.measuredBox[e]:n.layoutBox[e],i=Io(o);o.min=t[e].min,o.max=o.min+i})):Ds(i,n.layoutBox,t)&&Wo((o=>{const i=s?n.measuredBox[o]:n.layoutBox[o],r=Io(t[o]);i.max=i.min+r,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[o].max=e.relativeTarget[o].min+r)}));const r={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Bo(r,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?Bo(a,e.applyTransform(o,!0),n.measuredBox):Bo(a,t,n.layoutBox);const l=!Gi(r);let c=!1;if(!e.resumeFrom){const o=e.getClosestProjectingParent();if(o&&!o.resumeFrom){const{snapshot:i,layout:s}=o;if(i&&s){const r={x:{min:0,max:0},y:{min:0,max:0}};Fo(r,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Fo(a,t,s.layoutBox),Ji(r,a)||(c=!0),o.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=r,e.relativeParent=o)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:r,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ms(e){is&&os.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ps(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fs(e){e.clearSnapshot()}function gs(e){e.clearMeasurements()}function ys(e){e.isLayoutDirty=!1}function vs(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function xs(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Ss(e){e.resolveTargetDelta()}function bs(e){e.calcProjection()}function ws(e){e.resetSkewAndRotation()}function Es(e){e.removeLeadSnapshot()}function Cs(e,t,n){e.translate=Qt(t.translate,0,n),e.scale=Qt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ms(e,t,n,o){e.min=Qt(t.min,n.min,o),e.max=Qt(t.max,n.max,o)}function Ps(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const As={duration:.45,ease:[.4,0,.1,1]},ks=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ts=ks("applewebkit/")&&!ks("chrome/")?Math.round:W;function Ns(e){e.min=Ts(e.min),e.max=Ts(e.max)}function Ds(e,t,n){return"position"===e||"preserve-aspect"===e&&(o=es(t),i=es(n),s=.2,!(Math.abs(o-i)<=s));var o,i,s}function Rs(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const Vs=ds({attachResizeListener:(e,t)=>wo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Is={current:void 0},Os=ds({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Is.current){const e=new Vs({});e.mount(window),e.setOptions({layoutScroll:!0}),Is.current=e}return Is.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Bs={pan:{Feature:class extends xo{constructor(){super(...arguments),this.removePointerDownListener=W}onPointerDown(e){this.session=new Po(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ci(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:mi(e),onStart:mi(t),onMove:n,onEnd:(e,t)=>{delete this.session,o&&ee.postRender((()=>o(e,t)))}}}mount(){this.removePointerDownListener=Co(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends xo{constructor(e){super(e),this.removeGroupControls=W,this.removeListeners=W,this.controls=new ui(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||W}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Os,MeasureLayout:Ai}};function Ls(e,t,n){const{props:o}=e;e.animationState&&o.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=o["onHover"+n];i&&ee.postRender((()=>i(t,Eo(t))))}function $s(e,t,n){const{props:o}=e;e.animationState&&o.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=o["onTap"+("End"===n?"":n)];i&&ee.postRender((()=>i(t,Eo(t))))}const Fs=new WeakMap,js=new WeakMap,zs=e=>{const t=Fs.get(e.target);t&&t(e)},_s=e=>{e.forEach(zs)};function Hs(e,t,n){const o=function({root:e,...t}){const n=e||document;js.has(n)||js.set(n,{});const o=js.get(n),i=JSON.stringify(t);return o[i]||(o[i]=new IntersectionObserver(_s,{root:e,...t})),o[i]}(t);return Fs.set(e,n),o.observe(e),()=>{Fs.delete(e),o.unobserve(e)}}const Ys={some:0,all:1};const Us={inView:{Feature:class extends xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:o="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof o?o:Ys[o]};return Hs(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:o}=this.node.getProps(),s=t?n:o;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends xo{mount(){const{current:e}=this.node;e&&(this.unmount=H(e,(e=>($s(this.node,e,"Start"),(e,{success:t})=>$s(this.node,e,t?"End":"Cancel"))),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=an(wo(this.node.current,"focus",(()=>this.onFocus())),wo(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends xo{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[o,i,s]=I(e,n),r=O((e=>{const{target:n}=e,o=t(e);if("function"!=typeof o||!n)return;const s=O((e=>{o(e),n.removeEventListener("pointerleave",s)}));n.addEventListener("pointerleave",s,i)}));return o.forEach((e=>{e.addEventListener("pointerenter",r,i)})),s}(e,(e=>(Ls(this.node,e,"Start"),e=>Ls(this.node,e,"End")))))}unmount(){}}}},Ws={layout:{ProjectionNode:Os,MeasureLayout:Ai}},Xs=(0,fi.createContext)({strict:!1});var Ks=n(9154);const Zs=(0,fi.createContext)({});function Gs(e){return i(e.animate)||h.some((t=>a(e[t])))}function qs(e){return Boolean(Gs(e)||e.variants)}function Qs(e){const{initial:t,animate:n}=function(e,t){if(Gs(e)){const{initial:t,animate:n}=e;return{initial:!1===t||a(t)?t:void 0,animate:a(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,fi.useContext)(Zs));return(0,fi.useMemo)((()=>({initial:t,animate:n})),[Js(t),Js(n)])}function Js(e){return Array.isArray(e)?e.join(" "):e}var er=n(2004);const tr={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nr={};for(const oa in tr)nr[oa]={isEnabled:e=>tr[oa].some((t=>!!e[t]))};const or=Symbol.for("motionComponentSymbol");function ir(e,t,n){return(0,fi.useCallback)((o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&("function"==typeof n?n(o):Vo(n)&&(n.current=o))}),[t])}var sr=n(5347),rr=n(6580);function ar(e,t,n,o,i){var s,r;const{visualElement:a}=(0,fi.useContext)(Zs),l=(0,fi.useContext)(Xs),c=(0,fi.useContext)(sr.t),d=(0,fi.useContext)(Ks.Q).reducedMotion,u=(0,fi.useRef)(null);o=o||l.renderer,!u.current&&o&&(u.current=o(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:d}));const h=u.current,m=(0,fi.useContext)(vi);!h||h.projection||!i||"html"!==h.type&&"svg"!==h.type||function(e,t,n,o){const{layoutId:i,layout:s,drag:r,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:lr(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(r)||a&&Vo(a),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:o,layoutScroll:l,layoutRoot:c})}(u.current,n,i,m);const p=(0,fi.useRef)(!1);(0,fi.useInsertionEffect)((()=>{h&&p.current&&h.update(n,c)}));const f=n[ve],g=(0,fi.useRef)(Boolean(f)&&!(null===(s=window.MotionHandoffIsComplete)||void 0===s?void 0:s.call(window,f))&&(null===(r=window.MotionHasOptimisedAnimation)||void 0===r?void 0:r.call(window,f)));return(0,rr.E)((()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),Ci.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())})),(0,fi.useEffect)((()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask((()=>{var e;null===(e=window.MotionHandoffMarkAsComplete)||void 0===e||e.call(window,f)})),g.current=!1))})),h}function lr(e){if(e)return!1!==e.options.allowProjection?e.projection:lr(e.parent)}function cr({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:o,Component:i}){var s,r;function a(e,s){let r;const a={...(0,fi.useContext)(Ks.Q),...e,layoutId:dr(e)},{isStatic:l}=a,c=Qs(e),d=o(e,l);if(!l&&er.B){!function(){(0,fi.useContext)(Xs).strict;0}();const e=function(e){const{drag:t,layout:n}=nr;if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}(a);r=e.MeasureLayout,c.visualElement=ar(i,d,a,t,e.ProjectionNode)}return(0,pi.jsxs)(Zs.Provider,{value:c,children:[r&&c.visualElement?(0,pi.jsx)(r,{visualElement:c.visualElement,...a}):null,n(i,e,ir(d,c.visualElement,s),d,l,c.visualElement)]})}e&&function(e){for(const t in e)nr[t]={...nr[t],...e[t]}}(e),a.displayName=`motion.${"string"==typeof i?i:`create(${null!==(r=null!==(s=i.displayName)&&void 0!==s?s:i.name)&&void 0!==r?r:""})`}`;const l=(0,fi.forwardRef)(a);return l[or]=i,l}function dr({layoutId:e}){const t=(0,fi.useContext)(yi.L).id;return t&&void 0!==e?t+"-"+e:e}const ur=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hr(e){return"string"==typeof e&&!e.includes("-")&&!!(ur.indexOf(e)>-1||/[A-Z]/u.test(e))}var mr=n(7389);const pr=e=>(t,n)=>{const o=(0,fi.useContext)(Zs),i=(0,fi.useContext)(sr.t),s=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},o,i,s){const r={latestValues:fr(o,i,s,e),renderState:t()};return n&&(r.onMount=e=>n({props:o,current:e,...r}),r.onUpdate=e=>n(e)),r}(e,t,o,i);return n?s():(0,mr.M)(s)};function fr(e,t,n,o){const s={},r=o(e,{});for(const i in r)s[i]=Ri(r[i]);let{initial:a,animate:l}=e;const d=Gs(e),u=qs(e);t&&u&&!d&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===l&&(l=t.animate));let h=!!n&&!1===n.initial;h=h||!1===a;const m=h?l:a;if(m&&"boolean"!=typeof m&&!i(m)){const t=Array.isArray(m)?m:[m];for(let n=0;n<t.length;n++){const o=c(e,t[n]);if(o){const{transitionEnd:e,transition:t,...n}=o;for(const o in n){let e=n[o];if(Array.isArray(e)){e=e[h?e.length-1:0]}null!==e&&(s[o]=e)}for(const o in e)s[o]=e[o]}}}return s}const gr=(e,t)=>t&&"number"==typeof e?t.transform(e):e,yr={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vr=X.length;function xr(e,t,n){const{style:o,vars:i,transformOrigin:s}=e;let r=!1,a=!1;for(const l in t){const e=t[l];if(K.has(l))r=!0;else if(Lt(l))i[l]=e;else{const t=gr(e,gt[l]);l.startsWith("origin")?(a=!0,s[l]=t):o[l]=t}}if(t.transform||(r||n?o.transform=function(e,t,n){let o="",i=!0;for(let s=0;s<vr;s++){const r=X[s],a=e[r];if(void 0===a)continue;let l=!0;if(l="number"==typeof a?a===(r.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=gr(a,gt[r]);l||(i=!1,o+=`${yr[r]||r}(${e}) `),n&&(t[r]=e)}}return o=o.trim(),n?o=n(t,i?"":o):i&&(o="none"),o}(t,e.transform,n):o.transform&&(o.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;o.transformOrigin=`${e} ${t} ${n}`}}const Sr={offset:"stroke-dashoffset",array:"stroke-dasharray"},br={offset:"strokeDashoffset",array:"strokeDasharray"};function wr(e,t,n){return"string"==typeof e?e:Ke.transform(t+n*e)}function Er(e,{attrX:t,attrY:n,attrScale:o,originX:i,originY:s,pathLength:r,pathSpacing:a=1,pathOffset:l=0,...c},d,u){if(xr(e,c,u),d)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:p}=e;h.transform&&(p&&(m.transform=h.transform),delete h.transform),p&&(void 0!==i||void 0!==s||m.transform)&&(m.transformOrigin=function(e,t,n){return`${wr(t,e.x,e.width)} ${wr(n,e.y,e.height)}`}(p,void 0!==i?i:.5,void 0!==s?s:.5)),void 0!==t&&(h.x=t),void 0!==n&&(h.y=n),void 0!==o&&(h.scale=o),void 0!==r&&function(e,t,n=1,o=0,i=!0){e.pathLength=1;const s=i?Sr:br;e[s.offset]=Ke.transform(-o);const r=Ke.transform(t),a=Ke.transform(n);e[s.array]=`${r} ${a}`}(h,r,a,l,!1)}const Cr=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Mr=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Pr=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Ar(e,{style:t,vars:n},o,i){Object.assign(e.style,t,i&&i.getProjectionStyles(o));for(const s in n)e.style.setProperty(s,n[s])}const kr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tr(e,t,n,o){Ar(e,t,void 0,o);for(const i in t.attrs)e.setAttribute(kr.has(i)?i:ye(i),t.attrs[i])}function Nr(e,{layout:t,layoutId:n}){return K.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!Ei[e]||"opacity"===e)}function Dr(e,t,n){var o;const{style:i}=e,s={};for(const r in i)(fe(i[r])||t.style&&fe(t.style[r])||Nr(r,e)||void 0!==(null===(o=null==n?void 0:n.getValue(r))||void 0===o?void 0:o.liveStyle))&&(s[r]=i[r]);return s}function Rr(e,t,n){const o=Dr(e,t,n);for(const i in e)if(fe(e[i])||fe(t[i])){o[-1!==X.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return o}const Vr=["x","y","width","height","cx","cy","r"],Ir={useVisualState:pr({scrapeMotionValuesFromProps:Rr,createRenderState:Mr,onUpdate:({props:e,prevProps:t,current:n,renderState:o,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s)for(const a in i)if(K.has(a)){s=!0;break}if(!s)return;let r=!t;if(t)for(let a=0;a<Vr.length;a++){const n=Vr[a];e[n]!==t[n]&&(r=!0)}r&&ee.read((()=>{!function(e,t){try{t.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(n){t.dimensions={x:0,y:0,width:0,height:0}}}(n,o),ee.render((()=>{Er(o,i,Pr(n.tagName),e.transformTemplate),Tr(n,o)}))}))}})},Or={useVisualState:pr({scrapeMotionValuesFromProps:Dr,createRenderState:Cr})};function Br(e,t,n){for(const o in t)fe(t[o])||Nr(o,n)||(e[o]=t[o])}function Lr(e,t){const n={};return Br(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return(0,fi.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return xr(n,t,e),Object.assign({},n.vars,n.style)}),[t])}(e,t)),n}function $r(e,t){const n={},o=Lr(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const Fr=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jr(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Fr.has(e)}let zr=e=>!jr(e);try{(_r=require("@emotion/is-prop-valid").default)&&(zr=e=>e.startsWith("on")?!jr(e):_r(e))}catch(na){}var _r;function Hr(e,t,n,o){const i=(0,fi.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Er(n,t,Pr(o),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Br(t,e.style,e),i.style={...t,...i.style}}return i}function Yr(e=!1){return(t,n,o,{latestValues:i},s)=>{const r=(hr(t)?Hr:$r)(n,i,s,t),a=function(e,t,n){const o={};for(const i in e)"values"===i&&"object"==typeof e.values||(zr(i)||!0===n&&jr(i)||!t&&!jr(i)||e.draggable&&i.startsWith("onDrag"))&&(o[i]=e[i]);return o}(n,"string"==typeof t,e),l=t!==fi.Fragment?{...a,...r,ref:o}:{},{children:c}=n,d=(0,fi.useMemo)((()=>fe(c)?c.get():c),[c]);return(0,fi.createElement)(t,{...l,children:d})}}function Ur(e,t){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){return cr({...hr(n)?Ir:Or,preloadedFeatures:e,useRender:Yr(o),createVisualElement:t,Component:n})}}const Wr={current:null},Xr={current:!1};const Kr=[...Yt,Je,lt],Zr=new WeakMap;const Gr=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qr{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:i,visualState:s},r={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Rt,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=re.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,ee.render(this.render,!1,!0))};const{latestValues:a,renderState:l,onUpdate:c}=s;this.onUpdate=c,this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=r,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=Gs(t),this.isVariantNode=qs(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const h in u){const e=u[h];void 0!==a[h]&&fe(e)&&e.set(a[h],!1)}}mount(e){this.current=e,Zr.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Xr.current||function(){if(Xr.current=!0,er.B)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wr.current=e.matches;e.addListener(t),t()}else Wr.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Wr.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Zr.delete(this.current),this.projection&&this.projection.unmount(),te(this.notifyUpdate),te(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=K.has(e),o=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&ee.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{o(),i(),s&&s(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in nr){const t=nr[e];if(!t)continue;const{isEnabled:n,Feature:o}=t;if(!this.features[e]&&o&&n(this.props)&&(this.features[e]=new o(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Gr.length;n++){const t=Gr[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const o=e["on"+t];o&&(this.propEventSubscriptions[t]=this.on(t,o))}this.prevMotionValues=function(e,t,n){for(const o in t){const i=t[o],s=n[o];if(fe(i))e.addValue(o,i);else if(fe(s))e.addValue(o,me(i,{owner:e}));else if(s!==i)if(e.hasValue(o)){const t=e.getValue(o);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(o);e.addValue(o,me(void 0!==t?t:i,{owner:e}))}}for(const o in n)void 0===t[o]&&e.removeValue(o);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=me(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let o=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return null!=o&&("string"==typeof o&&(Ot(o)||Re(o))?o=parseFloat(o):(i=o,!Kr.find(Ht(i))&&lt.test(t)&&(o=xt(e,t))),this.setBaseTarget(e,fe(o)?o.get():o)),fe(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let o;if("string"==typeof n||"object"==typeof n){const i=c(this.props,n,null===(t=this.presenceContext)||void 0===t?void 0:t.custom);i&&(o=i[e])}if(n&&void 0!==o)return o;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||fe(i)?void 0!==this.initialValues[e]&&void 0===o?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new ce),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Qr extends qr{constructor(){super(...arguments),this.KeyframeResolver=Wt}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fe(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}class Jr extends Qr{constructor(){super(...arguments),this.type="html",this.renderInstance=Ar}readValueFromInstance(e,t){if(K.has(t)){const e=vt(t);return e&&e.default||0}{const o=(n=e,window.getComputedStyle(n)),i=(Lt(t)?o.getPropertyValue(t):o[t])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return li(e,t)}build(e,t,n){xr(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Dr(e,t,n)}}class ea extends Qr{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Uo}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(K.has(t)){const e=vt(t);return e&&e.default||0}return t=kr.has(t)?t:ye(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Rr(e,t,n)}build(e,t,n){Er(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,o){Tr(e,t,0,o)}mount(e){this.isSVGTag=Pr(e.tagName),super.mount(e)}}const ta=o(Ur({...bo,...Us,...Bs,...Ws},((e,t)=>hr(e)?new ea(t):new Jr(t,{allowProjection:e!==fi.Fragment}))))},2004:(e,t,n)=>{n.d(t,{B:()=>o});const o="undefined"!=typeof window},7389:(e,t,n)=>{n.d(t,{M:()=>i});var o=n(758);function i(e){const t=(0,o.useRef)(null);return null===t.current&&(t.current=e()),t.current}},6580:(e,t,n)=>{n.d(t,{E:()=>i});var o=n(758);const i=n(2004).B?o.useLayoutEffect:o.useEffect},919:(e,t,n)=>{function o(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}n.d(t,{x:()=>o})}}]);
