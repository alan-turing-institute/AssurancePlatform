# TEA Platform Environment Configuration
# Copy this file to .env and update the values for your environment.

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# These configure the local PostgreSQL container in Docker Compose.
# NOT used in production (Azure PostgreSQL uses DATABASE_URL directly).
POSTGRES_DB=tea
POSTGRES_USER=tea_user
POSTGRES_PASSWORD=tea_password

# Connection URL for Prisma. In Docker Compose, this is auto-constructed from
# the POSTGRES_* variables above. In production, set this directly.
DATABASE_URL="postgresql://tea_user:tea_password@postgres:5432/tea_dev"

# =============================================================================
# NEXTAUTH CONFIGURATION (Required)
# =============================================================================
# Secret for encrypting session tokens - REQUIRED
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-here

# Base URL of your application
# Local development: http://localhost:3000
# Production: https://your-domain.com (no trailing slash)
NEXTAUTH_URL=http://localhost:3000

# Auth mode flag (set to "true" to use JWT-only authentication)
USE_JWT_ONLY_AUTH=false

# =============================================================================
# GITHUB OAUTH (Required for GitHub login)
# =============================================================================
# Create a GitHub OAuth App at: https://github.com/settings/developers
# Set the callback URL to: {NEXTAUTH_URL}/api/auth/callback/github
GITHUB_APP_CLIENT_ID=your-github-client-id
GITHUB_APP_CLIENT_SECRET=your-github-client-secret

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
# Port to expose the application (default: 3000)
APP_PORT=3000

# Skip element validation during data operations (development/migration only)
# SKIP_ELEMENT_VALIDATION=false

# =============================================================================
# FILE STORAGE (Choose one)
# =============================================================================
# Option 1: Local filesystem (recommended for self-hosting/development)
USE_LOCAL_STORAGE=true

# Option 2: Azure Blob Storage (for cloud deployments)
# AZURE_STORAGE_ACCOUNT_NAME=your-storage-account
# AZURE_STORAGE_ACCOUNT_KEY=your-storage-key

# =============================================================================
# EMAIL SERVICE (Optional - Azure Communication Services)
# =============================================================================
# Required for password reset emails and notifications
# ACS_CONNECTION_STRING=endpoint=https://your-acs.communication.azure.com/;accesskey=...
# ACS_SENDER_ADDRESS=DoNotReply@your-domain.azurecomm.net
